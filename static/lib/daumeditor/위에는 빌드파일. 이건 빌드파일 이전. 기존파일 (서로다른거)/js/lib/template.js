!function(){function e(t,n){return t?(n.indexOf("{if:")>-1&&(n=n.replace(/#\{if:([_\w]+)([=><!]+)([_'"\-\w]+)\}([\s\S]*?)#\{\/if:\1\}/gm,function(n,r,i,a,u){if(t[r]==_NULL)return n;var f=_FALSE;try{i="="==i?"==":i;var l='"'+(t[r]+"").replace(/['"]/g,"")+'"',o='"'+a.replace(/['"]/g,"")+'"';f=txEval("("+l+i+o+")")}catch(e){f=_FALSE}return f?e(t,u):""})),n.indexOf("{for:")>-1&&(n=n.replace(/#\{for:([_\w]+):?(\d*):?(\d*)\}([\s\S]*?)#\{\/for:\1\}/gm,function(n,r,i,a,u){if(!t[r]||!t[r].length)return n;var f=t[r],l=[];i=i?isNaN(i)?f.length:parseInt(i):f.length,a=a?isNaN(a)?0:parseInt(a):0;for(var o=0,c=Math.min(f.length,i);o<c;o++)l.push(e(f[o],u));return l.join("").substring(a)})),n.replace(/#\{([_\w]+)\}/g,function(e,n){return t[n]!=_NULL?t[n]:e})):""}var t=_WIN.Template=function(e){this.template=e};t.prototype={evaluate:function(t){return e(t,this.template)},evaluateToDom:function(t,n){"string"==typeof n&&(n=_DOC.getElementById(n)),n.innerHTML=e(t,this.template)},evaluateAsDom:function(t,n){var r=(n||document).createElement("div");return r.innerHTML=e(t,this.template),r.firstChild}}}();