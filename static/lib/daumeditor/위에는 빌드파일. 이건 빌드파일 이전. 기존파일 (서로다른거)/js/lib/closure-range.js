var goog=_WIN.goog=_WIN.goog||{};goog.global=_WIN,goog.LOCALE="en",goog.provide=function(o){goog.exportPath_(o)},goog.exportPath_=function(o,e,t){var g=o.split("."),r=t||goog.global;g[0]in r||!r.execScript||r.execScript("var "+g[0]);for(var n;g.length&&(n=g.shift());)!g.length&&goog.isDef(e)?r[n]=e:r=r[n]?r[n]:r[n]={}},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.typeOf=function(o){var e=typeof o;if("object"==e){if(!o)return _NULL+"";if(o instanceof Array)return"array";if(o instanceof Object)return e;var t=Object.prototype.toString.call(o);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof o.length&&typeof o.splice!=_UNDEFINED+""&&typeof o.propertyIsEnumerable!=_UNDEFINED+""&&!o.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||typeof o.call!=_UNDEFINED+""&&typeof o.propertyIsEnumerable!=_UNDEFINED+""&&!o.propertyIsEnumerable("call"))return"function"}else if("function"==e&&typeof o.call==_UNDEFINED+"")return"object";return e},goog.isDef=function(o){return o!==_UNDEFINED},goog.isNull=function(o){return o===_NULL},goog.isDefAndNotNull=function(o){return o!=_NULL},goog.isArray=function(o){return"array"==goog.typeOf(o)},goog.isArrayLike=function(o){var e=goog.typeOf(o);return"array"==e||"object"==e&&"number"==typeof o.length},goog.isDateLike=function(o){return goog.isObject(o)&&"function"==typeof o.getFullYear},goog.isString=function(o){return"string"==typeof o},goog.isBoolean=function(o){return"boolean"==typeof o},goog.isNumber=function(o){return"number"==typeof o},goog.isFunction=function(o){return"function"==goog.typeOf(o)},goog.isObject=function(o){var e=goog.typeOf(o);return"object"==e||"array"==e||"function"==e},goog.getUid=function(o){return o[goog.UID_PROPERTY_]||(o[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,Object.prototype.clone,goog.bindNative_=function(o,e,t){return o.call.apply(o.bind,arguments)},goog.bindJs_=function(o,e,t){var g=e||goog.global;if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),o.apply(g,e)}}return function(){return o.apply(g,arguments)}},goog.bind=function(o,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(_NULL,arguments)},goog.partial=function(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.unshift.apply(e,t),o.apply(this,e)}},goog.now=Date.now||function(){return+new Date},goog.inherits=function(o,e){function t(){}t.prototype=e.prototype,o.superClass_=e.prototype,o.prototype=new t,o.prototype.constructor=o},goog.base=function(o,e,t){var g=arguments.callee.caller;if(g.superClass_)return g.superClass_.constructor.apply(o,Array.prototype.slice.call(arguments,1));for(var r=Array.prototype.slice.call(arguments,2),n=_FALSE,a=o.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[e]===g)n=_TRUE;else if(n)return a.prototype[e].apply(o,r);if(o[e]===g)return o.constructor.prototype[e].apply(o,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.provide("goog.string"),goog.provide("goog.string.Unicode"),goog.string.Unicode={NBSP:"Â "},goog.string.startsWith=function(o,e){return 0==o.lastIndexOf(e,0)},goog.string.isEmpty=function(o){return/^[\s\xa0]*$/.test(o)},goog.string.stripNewlines=function(o){return o.replace(/ ?(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(o){return o.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.trim=function(o){return o.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.htmlEscape=function(o,e){return e?o.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;"):goog.string.allRe_.test(o)?(o.indexOf("&")!=-1&&(o=o.replace(goog.string.amperRe_,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(goog.string.ltRe_,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(goog.string.gtRe_,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(goog.string.quotRe_,"&quot;")),o):o},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/\"/g,goog.string.allRe_=/[&<>\"]/,goog.string.contains=function(o,e){return o.indexOf(e)!=-1},goog.string.buildString=function(o){return Array.prototype.join.call(arguments,"")},goog.string.compareVersions=function(o,e){for(var t=0,g=goog.string.trim(String(o)).split("."),r=goog.string.trim(String(e)).split("."),n=Math.max(g.length,r.length),a=0;0==t&&a<n;a++){var s=g[a]||"",i=r[a]||"",d=new RegExp("(\\d*)(\\D*)","g"),c=new RegExp("(\\d*)(\\D*)","g");do{var p=d.exec(s)||["","",""],u=c.exec(i)||["","",""];if(0==p[0].length&&0==u[0].length)break;var m=0==p[1].length?0:parseInt(p[1],10),l=0==u[1].length?0:parseInt(u[1],10);t=goog.string.compareElements_(m,l)||goog.string.compareElements_(0==p[2].length,0==u[2].length)||goog.string.compareElements_(p[2],u[2])}while(0==t)}return t},goog.string.compareElements_=function(o,e){return o<e?-1:o>e?1:0},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.provide("goog.userAgent"),goog.userAgent.ASSUME_IE=_FALSE,goog.userAgent.ASSUME_GECKO=_FALSE,goog.userAgent.ASSUME_WEBKIT=_FALSE,goog.userAgent.ASSUME_MOBILE_WEBKIT=_FALSE,goog.userAgent.ASSUME_OPERA=_FALSE,goog.userAgent.ASSUME_ANY_VERSION=_FALSE,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:_NULL},goog.userAgent.getNavigator=function(){return goog.global.navigator},goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=_FALSE,goog.userAgent.detectedIe_=_FALSE,goog.userAgent.detectedWebkit_=_FALSE,goog.userAgent.detectedMobile_=_FALSE,goog.userAgent.detectedGecko_=_FALSE;var o;if(!goog.userAgent.BROWSER_KNOWN_&&(o=goog.userAgent.getUserAgentString())){var e=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=goog.string.startsWith(o,"Opera"),goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&(goog.string.contains(o,"MSIE")||goog.string.contains(o,"Trident")),goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&goog.string.contains(o,"WebKit"),goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&goog.string.contains(o,"Mobile"),goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&!goog.userAgent.detectedIe_&&"Gecko"==e.product}},goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_(),goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_,goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_,goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_,goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_,goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var o=goog.userAgent.getNavigator();return o&&o.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=_FALSE,goog.userAgent.ASSUME_WINDOWS=_FALSE,goog.userAgent.ASSUME_LINUX=_FALSE,goog.userAgent.ASSUME_X11=_FALSE,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.determineVersion_=function(){var o,e="";if(goog.userAgent.OPERA&&goog.global.opera){var t=goog.global.opera.version;e="function"==typeof t?t():t}else if(goog.userAgent.GECKO?o=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?o=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(o=/WebKit\/(\S+)/),o){var g=o.exec(goog.userAgent.getUserAgentString());e=g?g[1]:""}if(goog.userAgent.IE){var r=goog.userAgent.getDocumentMode_();if(r>parseFloat(e))return String(r)}return e},goog.userAgent.getDocumentMode_=function(){var o=goog.global.document;return o?o.documentMode:_UNDEFINED},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(o,e){return goog.string.compareVersions(o,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(o){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[o]||(goog.userAgent.isVersionOrHigherCache_[o]=goog.string.compareVersions(goog.userAgent.VERSION,o)>=0)},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeCache_={},goog.userAgent.isDocumentModeOrHigher=function(o){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=o},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var o=goog.global.document;if(o&&goog.userAgent.IE){var e=goog.userAgent.getDocumentMode_();return e||("CSS1Compat"==o.compatMode?parseInt(goog.userAgent.VERSION,10):5)}}(),goog.provide("goog.array"),goog.provide("goog.array.ArrayLike"),goog.NATIVE_ARRAY_PROTOTYPES=_TRUE,goog.array.ArrayLike,goog.array.peek=function(o){return o[o.length-1]},goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(o,e,t){return goog.array.ARRAY_PROTOTYPE_.indexOf.call(o,e,t)}:function(o,e,t){var g=t==_NULL?0:t<0?Math.max(0,o.length+t):t;if(goog.isString(o))return goog.isString(e)&&1==e.length?o.indexOf(e,g):-1;for(var r=g;r<o.length;r++)if(r in o&&o[r]===e)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(o,e,t){goog.array.ARRAY_PROTOTYPE_.forEach.call(o,e,t)}:function(o,e,t){for(var g=o.length,r=goog.isString(o)?o.split(""):o,n=0;n<g;n++)n in r&&e.call(t,r[n],n,o)},goog.array.forEachRight=function(o,e,t){for(var g=o.length,r=goog.isString(o)?o.split(""):o,n=g-1;n>=0;--n)n in r&&e.call(t,r[n],n,o)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(o,e,t){return goog.array.ARRAY_PROTOTYPE_.filter.call(o,e,t)}:function(o,e,t){for(var g=o.length,r=[],n=0,a=goog.isString(o)?o.split(""):o,s=0;s<g;s++)if(s in a){var i=a[s];e.call(t,i,s,o)&&(r[n++]=i)}return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(o,e,t){return goog.array.ARRAY_PROTOTYPE_.map.call(o,e,t)}:function(o,e,t){for(var g=o.length,r=new Array(g),n=goog.isString(o)?o.split(""):o,a=0;a<g;a++)a in n&&(r[a]=e.call(t,n[a],a,o));return r},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(o,e,t){return goog.array.ARRAY_PROTOTYPE_.some.call(o,e,t)}:function(o,e,t){for(var g=o.length,r=goog.isString(o)?o.split(""):o,n=0;n<g;n++)if(n in r&&e.call(t,r[n],n,o))return _TRUE;return _FALSE},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(o,e,t){return goog.array.ARRAY_PROTOTYPE_.every.call(o,e,t)}:function(o,e,t){for(var g=o.length,r=goog.isString(o)?o.split(""):o,n=0;n<g;n++)if(n in r&&!e.call(t,r[n],n,o))return _FALSE;return _TRUE},goog.array.contains=function(o,e){return goog.array.indexOf(o,e)>=0},goog.array.isEmpty=function(o){return 0==o.length},goog.array.clear=function(o){if(!goog.isArray(o))for(var e=o.length-1;e>=0;e--)delete o[e];o.length=0},goog.array.insertAt=function(o,e,t){goog.array.splice(o,t,0,e)},goog.array.remove=function(o,e){var t,g=goog.array.indexOf(o,e);return(t=g>=0)&&goog.array.removeAt(o,g),t},goog.array.removeAt=function(o,e){return 1==goog.array.ARRAY_PROTOTYPE_.splice.call(o,e,1).length},goog.array.concat=function(o){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.clone=function(o){if(goog.isArray(o))return goog.array.concat(o);for(var e=[],t=0,g=o.length;t<g;t++)e[t]=o[t];return e},goog.array.toArray=function(o){return goog.isArray(o)?goog.array.concat(o):goog.array.clone(o)},goog.array.splice=function(o,e,t,g){return goog.array.ARRAY_PROTOTYPE_.splice.apply(o,goog.array.slice(arguments,1))},goog.array.slice=function(o,e,t){return arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(o,e):goog.array.ARRAY_PROTOTYPE_.slice.call(o,e,t)},goog.array.sort=function(o,e){goog.array.ARRAY_PROTOTYPE_.sort.call(o,e||goog.array.defaultCompare)},goog.array.equals=function(o,e,t){if(!goog.isArrayLike(o)||!goog.isArrayLike(e)||o.length!=e.length)return _FALSE;for(var g=o.length,r=t||goog.array.defaultCompareEquality,n=0;n<g;n++)if(!r(o[n],e[n]))return _FALSE;return _TRUE},goog.array.compare=function(o,e,t){return goog.array.equals(o,e,t)},goog.array.defaultCompare=function(o,e){return o>e?1:o<e?-1:0},goog.array.defaultCompareEquality=function(o,e){return o===e},goog.array.repeat=function(o,e){for(var t=[],g=0;g<e;g++)t[g]=o;return t},goog.provide("goog.dom.classes"),goog.dom.classes.get=function(o){var e=o.className;return e&&"function"==typeof e.split?e.split(/\s+/):[]},goog.dom.classes.add=function(o,e){var t=goog.dom.classes.get(o),g=goog.array.slice(arguments,1),r=goog.dom.classes.add_(t,g);return o.className=t.join(" "),r},goog.dom.classes.add_=function(o,e){for(var t=0,g=0;g<e.length;g++)goog.array.contains(o,e[g])||(o.push(e[g]),t++);return t==e.length},goog.provide("goog.object"),goog.object.forEach=function(o,e,t){for(var g in o)e.call(t,o[g],g,o)},goog.object.filter=function(o,e,t){var g={};for(var r in o)e.call(t,o[r],r,o)&&(g[r]=o[r]);return g},goog.object.map=function(o,e,t){var g={};for(var r in o)g[r]=e.call(t,o[r],r,o);return g},goog.object.every=function(o,e,t){for(var g in o)if(!e.call(t,o[g],g,o))return _FALSE;return _TRUE},goog.object.getCount=function(o){var e=0;for(var t in o)e++;return e},goog.object.contains=function(o,e){return goog.object.containsValue(o,e)},goog.object.getValues=function(o){var e=[],t=0;for(var g in o)e[t++]=o[g];return e},goog.object.getKeys=function(o){var e=[],t=0;for(var g in o)e[t++]=g;return e},goog.object.containsValue=function(o,e){for(var t in o)if(o[t]==e)return _TRUE;return _FALSE},goog.object.isEmpty=function(o){for(var e in o)return _FALSE;return _TRUE},goog.object.clear=function(o){for(var e in o)delete o[e]},goog.object.remove=function(o,e){var t;return(t=e in o)&&delete o[e],t},goog.object.add=function(o,e,t){if(e in o)throw Error('The object already contains the key "'+e+'"');goog.object.set(o,e,t)},goog.object.get=function(o,e,t){return e in o?o[e]:t},goog.object.set=function(o,e,t){o[e]=t},goog.object.clone=function(o){var e={};for(var t in o)e[t]=o[t];return e},goog.object.PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.object.extend=function(o,e){for(var t,g,r=1;r<arguments.length;r++){g=arguments[r];for(t in g)o[t]=g[t];for(var n=0;n<goog.object.PROTOTYPE_FIELDS_.length;n++)t=goog.object.PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(g,t)&&(o[t]=g[t])}},goog.object.create=function(o){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(_NULL,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var t={},g=0;g<e;g+=2)t[arguments[g]]=arguments[g+1];return t},goog.provide("goog.dom.TagName"),goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",DD:"DD",DEL:"DEL",DFN:"DFN",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",FIELDSET:"FIELDSET",FONT:"FONT",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MENU:"MENU",META:"META",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",P:"P",PARAM:"PARAM",PRE:"PRE",Q:"Q",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SELECT:"SELECT",SMALL:"SMALL",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUP:"SUP",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",TT:"TT",U:"U",UL:"UL",VAR:"VAR"},goog.provide("goog.math.Size"),goog.math.Size=function(o,e){this.width=o,this.height=e},goog.math.Size.equals=function(o,e){return o==e?_TRUE:o&&e?o.width==e.width&&o.height==e.height:_FALSE},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.provide("goog.dom.BrowserFeature"),goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isVersion("9"),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isVersion("9")||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE},goog.provide("goog.math.Coordinate"),goog.math.Coordinate=function(o,e){this.x=goog.isDef(o)?o:0,this.y=goog.isDef(e)?e:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.math.Coordinate.equals=function(o,e){return o==e?_TRUE:o&&e?o.x==e.x&&o.y==e.y:_FALSE},goog.provide("goog.dom"),goog.provide("goog.dom.DomHelper"),goog.provide("goog.dom.NodeType"),goog.dom.ASSUME_QUIRKS_MODE=_FALSE,goog.dom.ASSUME_STANDARDS_MODE=_FALSE,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.dom.getDomHelper=function(o){return o?new goog.dom.DomHelper(goog.dom.getOwnerDocument(o)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.defaultDomHelper_,goog.dom.getDocument=function(){return document},goog.dom.getElement=function(o){return goog.isString(o)?_DOC.getElementById(o):o},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(o,e,t){return goog.dom.getElementsByTagNameAndClass_(document,o,e,t)},goog.dom.getElementsByClass=function(o,e){var t=e||document;return goog.dom.canUseQuerySelector_(t)?t.querySelectorAll("."+o):t.getElementsByClassName?t.getElementsByClassName(o):goog.dom.getElementsByTagNameAndClass_(document,"*",o,e)},goog.dom.getElementByClass=function(o,e){var t=e||document,g=_NULL;return g=goog.dom.canUseQuerySelector_(t)?t.querySelector("."+o):goog.dom.getElementsByClass(o,e)[0],g||_NULL},goog.dom.canUseQuerySelector_=function(o){return o.querySelectorAll&&o.querySelector&&(!goog.userAgent.WEBKIT||goog.dom.isCss1CompatMode_(document)||goog.userAgent.isVersion("528"))},goog.dom.getElementsByTagNameAndClass_=function(o,e,t,g){var r=g||o,n=e&&"*"!=e?e.toUpperCase():"";if(goog.dom.canUseQuerySelector_(r)&&(n||t)){var a=n+(t?"."+t:"");return r.querySelectorAll(a)}if(t&&r.getElementsByClassName){var s=r.getElementsByClassName(t);if(n){for(var i,d={},c=0,p=0;i=s[p];p++)n==i.nodeName&&(d[c++]=i);return d.length=c,d}return s}var s=r.getElementsByTagName(n||"*");if(t){for(var i,d={},c=0,p=0;i=s[p];p++){var u=i.className;"function"==typeof u.split&&goog.array.contains(u.split(/\s+/),t)&&(d[c++]=i)}return d.length=c,d}return s},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(o,e){goog.object.forEach(e,function(e,t){"style"==t?o.style.cssText=e:"class"==t?o.className=e:"for"==t?o.htmlFor=e:t in goog.dom.DIRECT_ATTRIBUTE_MAP_?o.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[t],e):o[t]=e})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},goog.dom.getViewportSize=function(o){return goog.dom.getViewportSize_(o||window)},goog.dom.getViewportSize_=function(o){var e=o.document;if(goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("500")&&!goog.userAgent.MOBILE){typeof o.innerHeight==_UNDEFINED+""&&(o=window);var t=o.innerHeight,g=o.document.documentElement.scrollHeight;return o==o.top&&g<t&&(t-=15),new goog.math.Size(o.innerWidth,t)}var r=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body;return new goog.math.Size(r.clientWidth,r.clientHeight)},goog.dom.getWindow=function(o){return o?goog.dom.getWindow_(o):window},goog.dom.getWindow_=function(o){return o.parentWindow||o.defaultView},goog.dom.createDom=function(o,e,t){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(o,e){var t=e[0],g=e[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&g&&(g.name||g.type)){var r=["<",t];if(g.name&&r.push(' name="',goog.string.htmlEscape(g.name),'"'),g.type){r.push(' type="',goog.string.htmlEscape(g.type),'"');var n={};goog.object.extend(n,g),g=n,delete g.type}r.push(">"),t=r.join("")}var a=o.createElement(t);return g&&(goog.isString(g)?a.className=g:goog.isArray(g)?goog.dom.classes.add.apply(_NULL,[a].concat(g)):goog.dom.setProperties(a,g)),e.length>2&&goog.dom.append_(o,a,e,2),a},goog.dom.append_=function(o,e,t,g){function r(t){t&&e.appendChild(goog.isString(t)?o.createTextNode(t):t)}for(var n=g;n<t.length;n++){var a=t[n];goog.isArrayLike(a)&&!goog.dom.isNodeLike(a)?goog.array.forEach(goog.dom.isNodeList(a)?goog.array.clone(a):a,r):r(a)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(o){return _DOC.createElement(o)},goog.dom.createTextNode=function(o){return _DOC.createTextNode(o)},goog.dom.isCss1CompatMode_=function(o){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==o.compatMode},goog.dom.canHaveChildren_OLD=function(o){if(o.nodeType!=goog.dom.NodeType.ELEMENT)return _FALSE;switch(o.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.STYLE:return _FALSE}return _TRUE},goog.dom.TAGS_CANT_HAVE_CHILDREN={APPLET:_TRUE,AREA:_TRUE,BASE:_TRUE,BR:_TRUE,COL:_TRUE,FRAME:_TRUE,HR:_TRUE,IMG:_TRUE,INPUT:_TRUE,IFRAME:_TRUE,ISINDEX:_TRUE,LINK:_TRUE,NOFRAMES:_TRUE,NOSCRIPT:_TRUE,META:_TRUE,OBJECT:_TRUE,PARAM:_TRUE,SCRIPT:_TRUE,STYLE:_TRUE},goog.dom.canHaveChildren=function(o){return o.nodeType==goog.dom.NodeType.ELEMENT&&!goog.dom.TAGS_CANT_HAVE_CHILDREN[o.tagName]},goog.dom.appendChild=function(o,e){o.appendChild(e)},goog.dom.append=function(o,e){goog.dom.append_(goog.dom.getOwnerDocument(o),o,arguments,1)},goog.dom.removeChildren=function(o){for(var e;e=o.firstChild;)o.removeChild(e)},goog.dom.insertSiblingBefore=function(o,e){e.parentNode&&e.parentNode.insertBefore(o,e)},goog.dom.insertSiblingAfter=function(o,e){e.parentNode&&e.parentNode.insertBefore(o,e.nextSibling)},goog.dom.removeNode=function(o){return o&&o.parentNode?o.parentNode.removeChild(o):_NULL},goog.dom.replaceNode=function(o,e){var t=e.parentNode;t&&t.replaceChild(o,e)},goog.dom.flattenElement=function(o){var e,t=o.parentNode;if(t&&t.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(o.removeNode)return o.removeNode(_FALSE);for(;e=o.firstChild;)t.insertBefore(e,o);return goog.dom.removeNode(o)}};goog.dom.isNodeLike=function(o){return goog.isObject(o)&&o.nodeType>0};goog.dom.contains=function(o,e){if(o.contains&&e.nodeType==goog.dom.NodeType.ELEMENT)return o==e||o.contains(e);if(typeof o.compareDocumentPosition!=_UNDEFINED+"")return o==e||Boolean(16&o.compareDocumentPosition(e));for(;e&&o!=e;)e=e.parentNode;return e==o},goog.dom.compareNodeOrder=function(o,e){if(o==e)return 0;if(o.compareDocumentPosition)return 2&o.compareDocumentPosition(e)?1:-1;if("sourceIndex"in o||o.parentNode&&"sourceIndex"in o.parentNode){var t=o.nodeType==goog.dom.NodeType.ELEMENT,g=e.nodeType==goog.dom.NodeType.ELEMENT;if(t&&g)return o.sourceIndex-e.sourceIndex;var r=o.parentNode,n=e.parentNode;return r==n?goog.dom.compareSiblingOrder_(o,e):!t&&goog.dom.contains(r,e)?-1*goog.dom.compareParentsDescendantNodeIe_(o,e):!g&&goog.dom.contains(n,o)?goog.dom.compareParentsDescendantNodeIe_(e,o):(t?o.sourceIndex:r.sourceIndex)-(g?e.sourceIndex:n.sourceIndex)}var a,s,i=goog.dom.getOwnerDocument(o);return a=i.createRange(),a.selectNode(o),a.collapse(_TRUE),s=i.createRange(),s.selectNode(e),s.collapse(_TRUE),a.compareBoundaryPoints(goog.global.Range.START_TO_END,s)},goog.dom.compareParentsDescendantNodeIe_=function(o,e){var t=o.parentNode;if(t==e)return-1;for(var g=e;g.parentNode!=t;)g=g.parentNode;return goog.dom.compareSiblingOrder_(g,o)},goog.dom.compareSiblingOrder_=function(o,e){for(var t=e;t=t.previousSibling;)if(t==o)return-1;return 1},goog.dom.findCommonAncestor=function(o){var e,t=arguments.length;if(!t)return _NULL;if(1==t)return arguments[0];var g=[],r=1/0;for(e=0;e<t;e++){for(var n=[],a=arguments[e];a;)n.unshift(a),a=a.parentNode;g.push(n),r=Math.min(r,n.length)}var s=_NULL;for(e=0;e<r;e++){for(var i=g[0][e],d=1;d<t;d++)if(i!=g[d][e])return s;s=i}return s},goog.dom.getOwnerDocument=function(o){return o.nodeType==goog.dom.NodeType.DOCUMENT?o:o.ownerDocument||o.document},goog.dom.getOuterHtml=function(o){if("outerHTML"in o)return o.outerHTML;var e=goog.dom.getOwnerDocument(o),t=e.createElement("div");return t.appendChild(o.cloneNode(_TRUE)),t.innerHTML},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.getTextContent=function(o){var e;if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in o)e=goog.string.canonicalizeNewlines(o.innerText);else{var t=[];goog.dom.getTextContent_(o,t,_TRUE),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),goog.userAgent.IE||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(o){var e=[];return goog.dom.getTextContent_(o,e,_FALSE),e.join("")},goog.dom.getTextContent_=function(o,e,t){if(o.nodeName in goog.dom.TAGS_TO_IGNORE_);else if(o.nodeType==goog.dom.NodeType.TEXT)t?e.push(String(o.nodeValue).replace(/(\r\n|\r|\n)/g,"")):e.push(o.nodeValue);else if(o.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)e.push(goog.dom.PREDEFINED_TAG_VALUES_[o.nodeName]);else for(var g=o.firstChild;g;)goog.dom.getTextContent_(g,e,t),g=g.nextSibling},goog.dom.isNodeList=function(o){if(o&&"number"==typeof o.length){if(goog.isObject(o))return"function"==typeof o.item||"string"==typeof o.item;if(goog.isFunction(o))return"function"==typeof o.item}return _FALSE},goog.dom.DomHelper=function(o){this.document_=o||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(o){this.document_=o},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(o){return goog.isString(o)?this.document_.getElementById(o):o},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(o,e,t){return goog.dom.getElementsByTagNameAndClass_(this.document_,o,e,t)},goog.dom.DomHelper.prototype.getElementsByClass=function(o,e){var t=e||this.document_;return goog.dom.getElementsByClass(o,t)},goog.dom.DomHelper.prototype.getElementByClass=function(o,e){var t=e||this.document_;return goog.dom.getElementByClass(o,t)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(o){return goog.dom.getViewportSize(o||this.getWindow())},goog.dom.Appendable,goog.dom.DomHelper.prototype.createDom=function(o,e,t){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(o){return this.document_.createElement(o)},goog.dom.DomHelper.prototype.createTextNode=function(o){return this.document_.createTextNode(o)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.provide("goog.iter"),goog.provide("goog.iter.Iterator"),goog.provide("goog.iter.StopIteration"),goog.iter.Iterable,"StopIteration"in goog.global?goog.iter.StopIteration=goog.global.StopIteration:goog.iter.StopIteration=Error("StopIteration"),goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(o){return this},goog.iter.toIterator=function(o){if(o instanceof goog.iter.Iterator)return o;if("function"==typeof o.__iterator__)return o.__iterator__(_FALSE);if(goog.isArrayLike(o)){var e=0,t=new goog.iter.Iterator;return t.next=function(){for(;_TRUE;){if(e>=o.length)throw goog.iter.StopIteration;{if(e in o)return o[e++];e++}}},t}throw Error("Not implemented")},goog.iter.forEach=function(o,e,t){if(goog.isArrayLike(o))try{goog.array.forEach(o,e,t)}catch(o){if(o!==goog.iter.StopIteration)throw o}else{o=goog.iter.toIterator(o);try{for(;_TRUE;)e.call(t,o.next(),_UNDEFINED,o)}catch(o){if(o!==goog.iter.StopIteration)throw o;
}}},goog.iter.filter=function(o,e,t){o=goog.iter.toIterator(o);var g=new goog.iter.Iterator;return g.next=function(){for(;_TRUE;){var g=o.next();if(e.call(t,g,_UNDEFINED,o))return g}},g},goog.iter.join=function(o,e){return goog.iter.toArray(o).join(e)},goog.iter.map=function(o,e,t){o=goog.iter.toIterator(o);var g=new goog.iter.Iterator;return g.next=function(){for(;_TRUE;){var g=o.next();return e.call(t,g,_UNDEFINED,o)}},g},goog.iter.some=function(o,e,t){o=goog.iter.toIterator(o);try{for(;_TRUE;)if(e.call(t,o.next(),_UNDEFINED,o))return _TRUE}catch(o){if(o!==goog.iter.StopIteration)throw o}return _FALSE},goog.iter.every=function(o,e,t){o=goog.iter.toIterator(o);try{for(;_TRUE;)if(!e.call(t,o.next(),_UNDEFINED,o))return _FALSE}catch(o){if(o!==goog.iter.StopIteration)throw o}return _TRUE},goog.iter.toArray=function(o){if(goog.isArrayLike(o))return goog.array.toArray(o);o=goog.iter.toIterator(o);var e=[];return goog.iter.forEach(o,function(o){e.push(o)}),e},goog.iter.equals=function(o,e){o=goog.iter.toIterator(o),e=goog.iter.toIterator(e);var t,g;try{for(;_TRUE;){t=g=_FALSE;var r=o.next();t=_TRUE;var n=e.next();if(g=_TRUE,r!=n)return _FALSE}}catch(o){if(o!==goog.iter.StopIteration)throw o;if(t&&!g)return _FALSE;if(!g)try{return n=e.next(),_FALSE}catch(o){if(o!==goog.iter.StopIteration)throw o;return _TRUE}}return _FALSE},goog.provide("goog.dom.TagIterator"),goog.provide("goog.dom.TagWalkType"),goog.dom.TagWalkType={START_TAG:1,OTHER:0,END_TAG:-1},goog.dom.TagIterator=function(o,e,t,g,r){this.reversed=!!e,o&&this.setPosition(o,g),this.depth=r!=_UNDEFINED?r:this.tagType||0,this.reversed&&(this.depth*=-1),this.constrained=!t},goog.inherits(goog.dom.TagIterator,goog.iter.Iterator),goog.dom.TagIterator.prototype.node=_NULL,goog.dom.TagIterator.prototype.tagType=goog.dom.TagWalkType.OTHER,goog.dom.TagIterator.prototype.depth,goog.dom.TagIterator.prototype.reversed,goog.dom.TagIterator.prototype.constrained,goog.dom.TagIterator.prototype.started_=_FALSE,goog.dom.TagIterator.prototype.setPosition=function(o,e,t){this.node=o,o&&(goog.isNumber(e)?this.tagType=e:this.tagType=this.node.nodeType!=goog.dom.NodeType.ELEMENT?goog.dom.TagWalkType.OTHER:this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG),goog.isNumber(t)&&(this.depth=t)},goog.dom.TagIterator.prototype.copyFrom=function(o){this.node=o.node,this.tagType=o.tagType,this.depth=o.depth,this.reversed=o.reversed,this.constrained=o.constrained},goog.dom.TagIterator.prototype.clone=function(){return new goog.dom.TagIterator(this.node,this.reversed,!this.constrained,this.tagType,this.depth)},goog.dom.TagIterator.prototype.skipTag=function(){var o=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;this.tagType==o&&(this.tagType=o*-1,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.restartTag=function(){var o=this.reversed?goog.dom.TagWalkType.START_TAG:goog.dom.TagWalkType.END_TAG;this.tagType==o&&(this.tagType=o*-1,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.next=function(){var o;if(this.started_){if(!this.node||this.constrained&&0==this.depth)throw goog.iter.StopIteration;o=this.node;var e=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;if(this.tagType==e){var t=this.reversed?o.lastChild:o.firstChild;t?this.setPosition(t):this.setPosition(o,e*-1)}else{var g=this.reversed?o.previousSibling:o.nextSibling;g&&o.parentNode==g.parentNode?this.setPosition(g):this.setPosition(o.parentNode,e*-1)}this.depth+=this.tagType*(this.reversed?-1:1)}else this.started_=_TRUE;if(o=this.node,!this.node)throw goog.iter.StopIteration;return o},goog.dom.TagIterator.prototype.isStarted=function(){return this.started_},goog.dom.TagIterator.prototype.isStartTag=function(){return this.tagType==goog.dom.TagWalkType.START_TAG},goog.dom.TagIterator.prototype.isEndTag=function(){return this.tagType==goog.dom.TagWalkType.END_TAG},goog.dom.TagIterator.prototype.equals=function(o){return o.node==this.node&&(!this.node||o.tagType==this.tagType)},goog.dom.TagIterator.prototype.splice=function(o){var e=this.node;this.restartTag(),this.reversed=!this.reversed,goog.dom.TagIterator.prototype.next.call(this),this.reversed=!this.reversed;for(var t=goog.isArrayLike(arguments[0])?arguments[0]:arguments,g=t.length-1;g>=0;g--)goog.dom.insertSiblingAfter(t[g],e);goog.dom.removeNode(e)},goog.provide("goog.structs"),goog.structs.getCount=function(o){return"function"==typeof o.getCount?o.getCount():goog.isArrayLike(o)||goog.isString(o)?o.length:goog.object.getCount(o)},goog.structs.getValues=function(o){if("function"==typeof o.getValues)return o.getValues();if(goog.isString(o))return o.split("");if(goog.isArrayLike(o)){for(var e=[],t=o.length,g=0;g<t;g++)e.push(o[g]);return e}return goog.object.getValues(o)},goog.structs.getKeys=function(o){if("function"==typeof o.getKeys)return o.getKeys();if("function"==typeof o.getValues)return _UNDEFINED;if(goog.isArrayLike(o)||goog.isString(o)){for(var e=[],t=o.length,g=0;g<t;g++)e.push(g);return e}return goog.object.getKeys(o)},goog.structs.contains=function(o,e){return"function"==typeof o.contains?o.contains(e):"function"==typeof o.containsValue?o.containsValue(e):goog.isArrayLike(o)||goog.isString(o)?goog.array.contains(o,e):goog.object.containsValue(o,e)},goog.structs.isEmpty=function(o){return"function"==typeof o.isEmpty?o.isEmpty():goog.isArrayLike(o)||goog.isString(o)?goog.array.isEmpty(o):goog.object.isEmpty(o)},goog.structs.clear=function(o){"function"==typeof o.clear?o.clear():goog.isArrayLike(o)?goog.array.clear(o):goog.object.clear(o)},goog.structs.forEach=function(o,e,t){if("function"==typeof o.forEach)o.forEach(e,t);else if(goog.isArrayLike(o)||goog.isString(o))goog.array.forEach(o,e,t);else for(var g=goog.structs.getKeys(o),r=goog.structs.getValues(o),n=r.length,a=0;a<n;a++)e.call(t,r[a],g&&g[a],o)},goog.structs.filter=function(o,e,t){if("function"==typeof o.filter)return o.filter(e,t);if(goog.isArrayLike(o)||goog.isString(o))return goog.array.filter(o,e,t);var g,r=goog.structs.getKeys(o),n=goog.structs.getValues(o),a=n.length;if(r){g={};for(var s=0;s<a;s++)e.call(t,n[s],r[s],o)&&(g[r[s]]=n[s])}else{g=[];for(var s=0;s<a;s++)e.call(t,n[s],_UNDEFINED,o)&&g.push(n[s])}return g},goog.structs.map=function(o,e,t){if("function"==typeof o.map)return o.map(e,t);if(goog.isArrayLike(o)||goog.isString(o))return goog.array.map(o,e,t);var g,r=goog.structs.getKeys(o),n=goog.structs.getValues(o),a=n.length;if(r){g={};for(var s=0;s<a;s++)g[r[s]]=e.call(t,n[s],r[s],o)}else{g=[];for(var s=0;s<a;s++)g[s]=e.call(t,n[s],_UNDEFINED,o)}return g},goog.structs.some=function(o,e,t){if("function"==typeof o.some)return o.some(e,t);if(goog.isArrayLike(o)||goog.isString(o))return goog.array.some(o,e,t);for(var g=goog.structs.getKeys(o),r=goog.structs.getValues(o),n=r.length,a=0;a<n;a++)if(e.call(t,r[a],g&&g[a],o))return _TRUE;return _FALSE},goog.structs.every=function(o,e,t){if("function"==typeof o.every)return o.every(e,t);if(goog.isArrayLike(o)||goog.isString(o))return goog.array.every(o,e,t);for(var g=goog.structs.getKeys(o),r=goog.structs.getValues(o),n=r.length,a=0;a<n;a++)if(!e.call(t,r[a],g&&g[a],o))return _FALSE;return _TRUE},goog.provide("goog.structs.Map"),goog.structs.Map=function(o,e){this.map_={},this.keys_=[];var t=arguments.length;if(t>1){if(t%2)throw Error("Uneven number of arguments");for(var g=0;g<t;g+=2)this.set(arguments[g],arguments[g+1])}else o&&this.addAll(o)},goog.structs.Map.prototype.count_=0,goog.structs.Map.prototype.version_=0,goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var o=[],e=0;e<this.keys_.length;e++){var t=this.keys_[e];o.push(this.map_[t])}return o},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(o){return goog.structs.Map.hasKey_(this.map_,o)},goog.structs.Map.prototype.containsValue=function(o){for(var e=0;e<this.keys_.length;e++){var t=this.keys_[e];if(goog.structs.Map.hasKey_(this.map_,t)&&this.map_[t]==o)return _TRUE}return _FALSE},goog.structs.Map.prototype.equals=function(o,e){if(this===o)return _TRUE;if(this.count_!=o.getCount())return _FALSE;var t=e||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var g,r=0;g=this.keys_[r];r++)if(!t(this.get(g),o.get(g)))return _FALSE;return _TRUE},goog.structs.Map.defaultEquals=function(o,e){return o===e},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.keys_.length=0,this.count_=0,this.version_=0},goog.structs.Map.prototype.remove=function(o){return goog.structs.Map.hasKey_(this.map_,o)?(delete this.map_[o],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),_TRUE):_FALSE},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var o=0,e=0;o<this.keys_.length;){var t=this.keys_[o];goog.structs.Map.hasKey_(this.map_,t)&&(this.keys_[e++]=t),o++}this.keys_.length=e}if(this.count_!=this.keys_.length){for(var g={},o=0,e=0;o<this.keys_.length;){var t=this.keys_[o];goog.structs.Map.hasKey_(g,t)||(this.keys_[e++]=t,g[t]=1),o++}this.keys_.length=e}},goog.structs.Map.prototype.get=function(o,e){return goog.structs.Map.hasKey_(this.map_,o)?this.map_[o]:e},goog.structs.Map.prototype.set=function(o,e){goog.structs.Map.hasKey_(this.map_,o)||(this.count_++,this.keys_.push(o),this.version_++),this.map_[o]=e},goog.structs.Map.prototype.addAll=function(o){var e,t;o instanceof goog.structs.Map?(e=o.getKeys(),t=o.getValues()):(e=goog.object.getKeys(o),t=goog.object.getValues(o));for(var g=0;g<e.length;g++)this.set(e[g],t[g])},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var o={},e=0;e<this.keys_.length;e++){var t=this.keys_[e];o[t]=this.map_[t]}return o},goog.structs.Map.prototype.__iterator__=function(o){this.cleanupKeysArray_();var e=0,t=this.keys_,g=this.map_,r=this.version_,n=this,a=new goog.iter.Iterator;return a.next=function(){for(;_TRUE;){if(r!=n.version_)throw Error("The map has changed since the iterator was created");if(e>=t.length)throw goog.iter.StopIteration;var a=t[e++];return o?a:g[a]}},a},goog.structs.Map.hasKey_=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},goog.provide("goog.structs.Set"),goog.structs.Set=function(o){this.map_=new goog.structs.Map,o&&this.addAll(o)},goog.structs.Set.getKey_=function(o){var e=typeof o;return"object"==e&&o||"function"==e?"o"+goog.getUid(o):e.substr(0,1)+o},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(o){this.map_.set(goog.structs.Set.getKey_(o),o)},goog.structs.Set.prototype.addAll=function(o){for(var e=goog.structs.getValues(o),t=e.length,g=0;g<t;g++)this.add(e[g])},goog.structs.Set.prototype.remove=function(o){return this.map_.remove(goog.structs.Set.getKey_(o))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(o){return this.map_.containsKey(goog.structs.Set.getKey_(o))},goog.structs.Set.prototype.containsAll=function(o){return goog.structs.every(o,this.contains,this)},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(o){return this.getCount()==goog.structs.getCount(o)&&this.isSubsetOf(o)},goog.structs.Set.prototype.isSubsetOf=function(o){var e=goog.structs.getCount(o);return this.getCount()>e?_FALSE:(!(o instanceof goog.structs.Set)&&e>5&&(o=new goog.structs.Set(o)),goog.structs.every(this,function(e){return goog.structs.contains(o,e)}))},goog.structs.Set.prototype.__iterator__=function(o){return this.map_.__iterator__(_FALSE)},goog.provide("goog.disposable.IDisposable"),goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose,goog.disposable.IDisposable.prototype.isDisposed,goog.provide("goog.Disposable"),goog.provide("goog.dispose"),goog.Disposable=function(){goog.Disposable.ENABLE_MONITORING&&(goog.Disposable.instances_[goog.getUid(this)]=this)},goog.Disposable.ENABLE_MONITORING=_FALSE,goog.Disposable.instances_={},goog.Disposable.prototype.disposed_=_FALSE,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=_TRUE,this.disposeInternal(),goog.Disposable.ENABLE_MONITORING)){var o=goog.getUid(this);if(!goog.Disposable.instances_.hasOwnProperty(o))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[o]}},goog.Disposable.prototype.disposeInternal=function(){},goog.dispose=function(o){o&&"function"==typeof o.dispose&&o.dispose()},goog.provide("goog.dom.SavedRange"),goog.dom.SavedRange=function(){goog.Disposable.call(this)},goog.inherits(goog.dom.SavedRange,goog.Disposable),goog.dom.SavedRange.prototype.restore=function(o){var e=this.restoreInternal();return o||this.dispose(),e},goog.dom.SavedRange.prototype.restoreInternal=goog.abstractMethod,goog.provide("goog.dom.SavedCaretRange"),goog.dom.SavedCaretRange=function(o){goog.dom.SavedRange.call(this),this.startCaretId_=goog.string.createUniqueString(),this.endCaretId_=goog.string.createUniqueString(),this.dom_=goog.dom.getDomHelper(o.getDocument()),o.surroundWithNodes(this.createCaret_(_TRUE),this.createCaret_(_FALSE)),this.removeIncidentalTextNode_()},goog.inherits(goog.dom.SavedCaretRange,goog.dom.SavedRange),goog.dom.SavedCaretRange.prototype.getCaret=function(o){return this.dom_.getElement(o?this.startCaretId_:this.endCaretId_)},goog.dom.SavedCaretRange.prototype.removeIncidentalTextNode_=function(){var o=this.getCaret(_TRUE);this.removeIfEmptyText_(o.previousSibling),this.removeIfEmptyText_(o.nextSibling);var e=this.getCaret(_FALSE);this.removeIfEmptyText_(e.previousSibling),this.removeIfEmptyText_(e.nextSibling)},goog.dom.SavedCaretRange.prototype.removeIfEmptyText_=function(o){o&&o.nodeType===goog.dom.NodeType.TEXT&&!o.nodeValue&&goog.dom.removeNode(o)},goog.dom.SavedCaretRange.prototype.removeCarets=function(o){return goog.dom.removeNode(this.getCaret(_TRUE)),goog.dom.removeNode(this.getCaret(_FALSE)),o},goog.dom.SavedCaretRange.prototype.restoreInternal=function(){var o=_NULL,e=this.getCaret(_TRUE),t=this.getCaret(_FALSE);if(e&&t){var g=e.parentNode,r=goog.array.indexOf(g.childNodes,e),n=t.parentNode,a=goog.array.indexOf(n.childNodes,t);o=goog.dom.Range.createFromNodes(g,r+1,n,a),o.select()}return o},goog.dom.SavedCaretRange.prototype.disposeInternal=function(){this.removeCarets(),this.dom_=_NULL},goog.dom.SavedCaretRange.prototype.createCaret_=function(o){return this.dom_.createDom(goog.dom.TagName.SPAN,{id:o?this.startCaretId_:this.endCaretId_})},goog.dom.SavedCaretRange.CARET_REGEX=/<span\s+id="?goog_\d+"?><\/span>/gi,goog.provide("goog.dom.AbstractRange"),goog.provide("goog.dom.RangeIterator"),goog.provide("goog.dom.RangeType"),goog.dom.RangeType={TEXT:"text",CONTROL:"control",MULTI:"mutli"},goog.dom.AbstractRange=function(){},goog.dom.AbstractRange.getBrowserSelectionForWindow=function(o){if(o.getSelection)return o.getSelection();var e=o.document,t=e.selection;if(t){try{var g=t.createRange();if(g.parentElement){if(g.parentElement().document!=e)return _NULL}else if(!g.length||g.item(0).document!=e)return _NULL}catch(o){return _NULL}return t}return _NULL},goog.dom.AbstractRange.isNativeControlRange=function(o){return!!o&&!!o.addElement},goog.dom.AbstractRange.prototype.clone=goog.abstractMethod,goog.dom.AbstractRange.prototype.getType=goog.abstractMethod,goog.dom.AbstractRange.prototype.getBrowserRangeObject=goog.abstractMethod,goog.dom.AbstractRange.prototype.setBrowserRangeObject=function(o){return _FALSE},goog.dom.AbstractRange.prototype.getTextRangeCount=goog.abstractMethod,goog.dom.AbstractRange.prototype.getTextRange=goog.abstractMethod,goog.dom.AbstractRange.prototype.getTextRanges=function(){for(var o=[],e=0,t=this.getTextRangeCount();e<t;e++)o.push(this.getTextRange(e));return o},goog.dom.AbstractRange.prototype.getContainer=goog.abstractMethod,goog.dom.AbstractRange.prototype.getStartNode=goog.abstractMethod,goog.dom.AbstractRange.prototype.getStartOffset=goog.abstractMethod,goog.dom.AbstractRange.prototype.getEndNode=goog.abstractMethod,goog.dom.AbstractRange.prototype.getEndOffset=goog.abstractMethod,goog.dom.AbstractRange.prototype.getAnchorNode=function(){return this.isReversed()?this.getEndNode():this.getStartNode()},goog.dom.AbstractRange.prototype.getAnchorOffset=function(){return this.isReversed()?this.getEndOffset():this.getStartOffset()},goog.dom.AbstractRange.prototype.getFocusNode=function(){return this.isReversed()?this.getStartNode():this.getEndNode()},goog.dom.AbstractRange.prototype.getFocusOffset=function(){return this.isReversed()?this.getStartOffset():this.getEndOffset()},goog.dom.AbstractRange.prototype.isReversed=function(){return _FALSE},goog.dom.AbstractRange.prototype.getDocument=function(){return goog.dom.getOwnerDocument(goog.userAgent.IE?this.getContainer():this.getStartNode())},goog.dom.AbstractRange.prototype.getWindow=function(){return goog.dom.getWindow(this.getDocument())},goog.dom.AbstractRange.prototype.containsRange=goog.abstractMethod,goog.dom.AbstractRange.prototype.containsNode=function(o,e){return this.containsRange(goog.dom.Range.createFromNodeContents(o),e)},goog.dom.AbstractRange.prototype.isRangeInDocument=goog.abstractMethod,goog.dom.AbstractRange.prototype.isCollapsed=goog.abstractMethod,goog.dom.AbstractRange.prototype.getText=goog.abstractMethod,goog.dom.AbstractRange.prototype.getHtmlFragment=goog.abstractMethod,goog.dom.AbstractRange.prototype.getValidHtml=goog.abstractMethod,goog.dom.AbstractRange.prototype.getPastableHtml=goog.abstractMethod,goog.dom.AbstractRange.prototype.__iterator__=goog.abstractMethod,goog.dom.AbstractRange.prototype.select=goog.abstractMethod,goog.dom.AbstractRange.prototype.removeContents=goog.abstractMethod;goog.dom.AbstractRange.prototype.insertNode=goog.abstractMethod;goog.dom.AbstractRange.prototype.surroundWithNodes=goog.abstractMethod,goog.dom.AbstractRange.prototype.saveUsingDom=goog.abstractMethod,goog.dom.AbstractRange.prototype.saveUsingCarets=function(){return this.getStartNode()&&this.getEndNode()?new goog.dom.SavedCaretRange(this):_NULL},goog.dom.AbstractRange.prototype.collapse=goog.abstractMethod,goog.dom.RangeIterator=function(o,e){goog.dom.TagIterator.call(this,o,e,_TRUE)},goog.inherits(goog.dom.RangeIterator,goog.dom.TagIterator),goog.dom.RangeIterator.prototype.getStartTextOffset=goog.abstractMethod,goog.dom.RangeIterator.prototype.getEndTextOffset=goog.abstractMethod,goog.dom.RangeIterator.prototype.getStartNode=goog.abstractMethod,goog.dom.RangeIterator.prototype.getEndNode=goog.abstractMethod,goog.dom.RangeIterator.prototype.isLast=goog.abstractMethod,goog.provide("goog.dom.AbstractMultiRange"),goog.dom.AbstractMultiRange=function(){},goog.inherits(goog.dom.AbstractMultiRange,goog.dom.AbstractRange),goog.dom.AbstractMultiRange.prototype.containsRange=function(o,e){var t=this.getTextRanges(),g=o.getTextRanges(),r=e?goog.array.some:goog.array.every;return r(g,function(o){return goog.array.some(t,function(t){return t.containsRange(o,e)})})},goog.dom.AbstractMultiRange.prototype.insertNode=function(o,e){return e?goog.dom.insertSiblingBefore(o,this.getStartNode()):goog.dom.insertSiblingAfter(o,this.getEndNode()),o},goog.dom.AbstractMultiRange.prototype.surroundWithNodes=function(o,e){this.insertNode(o,_TRUE),this.insertNode(e,_FALSE)},goog.provide("goog.dom.TextRangeIterator"),goog.dom.TextRangeIterator=function(o,e,t,g,r){var n;if(o){if(this.startNode_=o,this.startOffset_=e,this.endNode_=t,this.endOffset_=g,o.nodeType==goog.dom.NodeType.ELEMENT&&o.tagName!=goog.dom.TagName.BR){var a=o.childNodes,s=a[e];s?(this.startNode_=s,this.startOffset_=0):(a.length&&(this.startNode_=goog.array.peek(a)),n=_TRUE)}t.nodeType==goog.dom.NodeType.ELEMENT&&(this.endNode_=t.childNodes[g],this.endNode_?this.endOffset_=0:this.endNode_=t)}if(goog.dom.RangeIterator.call(this,r?this.endNode_:this.startNode_,r),n)try{this.next()}catch(o){if(o!=goog.iter.StopIteration)throw o}},goog.inherits(goog.dom.TextRangeIterator,goog.dom.RangeIterator),goog.dom.TextRangeIterator.prototype.startNode_=_NULL,goog.dom.TextRangeIterator.prototype.endNode_=_NULL,goog.dom.TextRangeIterator.prototype.startOffset_=0,goog.dom.TextRangeIterator.prototype.endOffset_=0,goog.dom.TextRangeIterator.prototype.getStartTextOffset=function(){return this.node.nodeType!=goog.dom.NodeType.TEXT?-1:this.node==this.startNode_?this.startOffset_:0},goog.dom.TextRangeIterator.prototype.getEndTextOffset=function(){return this.node.nodeType!=goog.dom.NodeType.TEXT?-1:this.node==this.endNode_?this.endOffset_:this.node.nodeValue.length},goog.dom.TextRangeIterator.prototype.getStartNode=function(){return this.startNode_},goog.dom.TextRangeIterator.prototype.setStartNode=function(o){this.isStarted()||this.setPosition(o),this.startNode_=o,this.startOffset_=0},goog.dom.TextRangeIterator.prototype.getEndNode=function(){return this.endNode_},goog.dom.TextRangeIterator.prototype.setEndNode=function(o){this.endNode_=o,this.endOffset_=0},goog.dom.TextRangeIterator.prototype.isLast=function(){return this.isStarted()&&this.node==this.endNode_&&(!this.endOffset_||!this.isStartTag())},goog.dom.TextRangeIterator.prototype.next=function(){if(this.isLast())throw goog.iter.StopIteration;return goog.dom.TextRangeIterator.superClass_.next.call(this)},goog.dom.TextRangeIterator.prototype.skipTag=function(){if(goog.dom.TextRangeIterator.superClass_.skipTag.apply(this),goog.dom.contains(this.node,this.endNode_))throw goog.iter.StopIteration},goog.dom.TextRangeIterator.prototype.copyFrom=function(o){this.startNode_=o.startNode_,this.endNode_=o.endNode_,this.startOffset_=o.startOffset_,this.endOffset_=o.endOffset_,this.isReversed_=o.isReversed_,goog.dom.TextRangeIterator.superClass_.copyFrom.call(this,o)},goog.dom.TextRangeIterator.prototype.clone=function(){var o=new goog.dom.TextRangeIterator(this.startNode_,this.startOffset_,this.endNode_,this.endOffset_,this.isReversed_);return o.copyFrom(this),o},goog.provide("goog.userAgent.jscript"),goog.userAgent.jscript.ASSUME_NO_JSCRIPT=_FALSE,goog.userAgent.jscript.init_=function(){var o="ScriptEngine"in goog.global;goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_=o&&"JScript"==goog.global.ScriptEngine(),goog.userAgent.jscript.DETECTED_VERSION_=goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_?goog.global.ScriptEngineMajorVersion()+"."+goog.global.ScriptEngineMinorVersion()+"."+goog.global.ScriptEngineBuildVersion():"0"},goog.userAgent.jscript.ASSUME_NO_JSCRIPT||goog.userAgent.jscript.init_(),goog.userAgent.jscript.HAS_JSCRIPT=goog.userAgent.jscript.ASSUME_NO_JSCRIPT?_FALSE:goog.userAgent.jscript.DETECTED_HAS_JSCRIPT_,goog.userAgent.jscript.VERSION=goog.userAgent.jscript.ASSUME_NO_JSCRIPT?"0":goog.userAgent.jscript.DETECTED_VERSION_,goog.userAgent.jscript.isVersion=function(o){return goog.string.compareVersions(goog.userAgent.jscript.VERSION,o)>=0},goog.provide("goog.string.StringBuffer"),goog.string.StringBuffer=function(o,e){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"",o!=_NULL&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.set=function(o){this.clear(),this.append(o)},goog.userAgent.jscript.HAS_JSCRIPT?(goog.string.StringBuffer.prototype.bufferLength_=0,goog.string.StringBuffer.prototype.append=function(o,e,t){return e==_NULL?this.buffer_[this.bufferLength_++]=o:(this.buffer_.push.apply(this.buffer_,arguments),this.bufferLength_=this.buffer_.length),this}):goog.string.StringBuffer.prototype.append=function(o,e,t){if(this.buffer_+=o,e!=_NULL)for(var g=1;g<arguments.length;g++)this.buffer_+=arguments[g];return this},goog.string.StringBuffer.prototype.clear=function(){goog.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.toString().length},goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var o=this.buffer_.join("");return this.clear(),o&&this.append(o),o}return this.buffer_},goog.provide("goog.dom.RangeEndpoint"),goog.dom.RangeEndpoint={START:1,END:0},goog.provide("goog.dom.browserrange.AbstractRange"),goog.dom.browserrange.AbstractRange=function(){},goog.dom.browserrange.AbstractRange.prototype.clone=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getBrowserRange=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getContainer=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getStartNode=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getStartOffset=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getEndNode=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getEndOffset=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.compareBrowserRangeEndpoints=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.containsRange=function(o,e){var t=e&&!o.isCollapsed(),g=o.getBrowserRange(),r=goog.dom.RangeEndpoint.START,n=goog.dom.RangeEndpoint.END;try{return t?this.compareBrowserRangeEndpoints(g,n,r)>=0&&this.compareBrowserRangeEndpoints(g,r,n)<=0:this.compareBrowserRangeEndpoints(g,n,n)>=0&&this.compareBrowserRangeEndpoints(g,r,r)<=0}catch(o){if(!goog.userAgent.IE)throw o;return _FALSE}},goog.dom.browserrange.AbstractRange.prototype.containsNode=function(o,e){return this.containsRange(goog.dom.browserrange.createRangeFromNodeContents(o),e)},goog.dom.browserrange.AbstractRange.prototype.isCollapsed=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getText=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.getHtmlFragment=function(){var o=new goog.string.StringBuffer;return goog.iter.forEach(this,function(e,t,g){if(e.nodeType==goog.dom.NodeType.TEXT)o.append(goog.string.htmlEscape(e.nodeValue.substring(g.getStartTextOffset(),g.getEndTextOffset())));else if(e.nodeType==goog.dom.NodeType.ELEMENT)if(g.isEndTag())goog.dom.canHaveChildren(e)&&o.append("</"+e.tagName+">");else{var r=e.cloneNode(_FALSE),n=goog.dom.getOuterHtml(r);if(goog.userAgent.IE&&e.tagName==goog.dom.TagName.LI)o.append(n);else{var a=n.lastIndexOf("<");o.append(a?n.substr(0,a):n)}}},this),o.toString()},goog.dom.browserrange.AbstractRange.prototype.getValidHtml=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.__iterator__=function(o){return new goog.dom.TextRangeIterator(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset())},goog.dom.browserrange.AbstractRange.prototype.select=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.removeContents=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.surroundContents=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.insertNode=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.surroundWithNodes=goog.abstractMethod,goog.dom.browserrange.AbstractRange.prototype.collapse=goog.abstractMethod,goog.provide("goog.dom.browserrange.W3cRange"),goog.dom.browserrange.W3cRange=function(o){this.range_=o},goog.inherits(goog.dom.browserrange.W3cRange,goog.dom.browserrange.AbstractRange),goog.dom.browserrange.W3cRange.getBrowserRangeForNode=function(o){var e=goog.dom.getOwnerDocument(o).createRange();if(o.nodeType==goog.dom.NodeType.TEXT)e.setStart(o,0),e.setEnd(o,o.length);else if(goog.dom.browserrange.canContainRangeEndpoint(o)){for(var t,g=o;(t=g.firstChild)&&goog.dom.browserrange.canContainRangeEndpoint(t);)g=t;for(e.setStart(g,0),g=o;(t=g.lastChild)&&goog.dom.browserrange.canContainRangeEndpoint(t);)g=t;e.setEnd(g,g.nodeType==goog.dom.NodeType.ELEMENT?g.childNodes.length:g.length)}else{var r=o.parentNode,n=goog.array.indexOf(r.childNodes,o);e.setStart(r,n),e.setEnd(r,n+1)}return e},goog.dom.browserrange.W3cRange.getBrowserRangeForNodes=function(o,e,t,g){var r=goog.dom.getOwnerDocument(o).createRange();return r.setStart(o,e),r.setEnd(t,g),r},goog.dom.browserrange.W3cRange.createFromNodeContents=function(o){return new goog.dom.browserrange.W3cRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(o))},goog.dom.browserrange.W3cRange.createFromNodes=function(o,e,t,g){return new goog.dom.browserrange.W3cRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(o,e,t,g))},goog.dom.browserrange.W3cRange.prototype.clone=function(){return new this.constructor(this.range_.cloneRange())},goog.dom.browserrange.W3cRange.prototype.getBrowserRange=function(){return this.range_},goog.dom.browserrange.W3cRange.prototype.getContainer=function(){return this.range_.commonAncestorContainer},goog.dom.browserrange.W3cRange.prototype.getStartNode=function(){return this.range_.startContainer},goog.dom.browserrange.W3cRange.prototype.getStartOffset=function(){return this.range_.startOffset},goog.dom.browserrange.W3cRange.prototype.getEndNode=function(){return this.range_.endContainer},goog.dom.browserrange.W3cRange.prototype.getEndOffset=function(){return this.range_.endOffset},goog.dom.browserrange.W3cRange.prototype.compareBrowserRangeEndpoints=function(o,e,t){return this.range_.compareBoundaryPoints(t==goog.dom.RangeEndpoint.START?e==goog.dom.RangeEndpoint.START?goog.global.Range.START_TO_START:goog.global.Range.START_TO_END:e==goog.dom.RangeEndpoint.START?goog.global.Range.END_TO_START:goog.global.Range.END_TO_END,o)},goog.dom.browserrange.W3cRange.prototype.isCollapsed=function(){return this.range_.collapsed},goog.dom.browserrange.W3cRange.prototype.getText=function(){return this.range_.toString()},goog.dom.browserrange.W3cRange.prototype.getValidHtml=function(){var o=goog.dom.getDomHelper(this.range_.startContainer).createDom("div");o.appendChild(this.range_.cloneContents());var e=o.innerHTML;if(goog.string.startsWith(e,"<")||!this.isCollapsed()&&!goog.string.contains(e,"<"))return e;var t=this.getContainer();t=t.nodeType==goog.dom.NodeType.ELEMENT?t:t.parentNode;var g=goog.dom.getOuterHtml(t.cloneNode(_FALSE));return g.replace(">",">"+e)},goog.dom.browserrange.W3cRange.prototype.select=function(o){var e=goog.dom.getWindow(goog.dom.getOwnerDocument(this.getStartNode()));this.selectInternal(e.getSelection(),o)},goog.dom.browserrange.W3cRange.prototype.selectInternal=function(o,e){o.removeAllRanges(),o.addRange(this.range_)},goog.dom.browserrange.W3cRange.prototype.removeContents=function(){var o=this.range_;if(o.extractContents(),o.startContainer.hasChildNodes()){var e=o.startContainer.childNodes[o.startOffset];if(e){var t=e.previousSibling;""==goog.dom.getRawTextContent(e)&&goog.dom.removeNode(e),t&&""==goog.dom.getRawTextContent(t)&&goog.dom.removeNode(t)}}},goog.dom.browserrange.W3cRange.prototype.surroundContents=function(o){return this.range_.surroundContents(o),o},goog.dom.browserrange.W3cRange.prototype.insertNode=function(o,e){var t=this.range_.cloneRange();return t.collapse(e),t.insertNode(o),t.detach(),o},goog.dom.browserrange.W3cRange.prototype.surroundWithNodes=function(o,e){var t=goog.dom.getWindow(goog.dom.getOwnerDocument(this.getStartNode())),g=goog.dom.Range.createFromWindow(t);if(g)var r=g.getStartNode(),n=g.getEndNode(),a=g.getStartOffset(),s=g.getEndOffset();var i=this.range_.cloneRange(),d=this.range_.cloneRange();if(i.collapse(_FALSE),d.collapse(_TRUE),i.insertNode(e),d.insertNode(o),i.detach(),d.detach(),g){var c=function(t){return t==o||t==e};if(r.nodeType==goog.dom.NodeType.TEXT)for(;a>r.length;){a-=r.length;do r=r.nextSibling;while(c(r))}if(n.nodeType==goog.dom.NodeType.TEXT)for(;s>n.length;){
s-=n.length;do n=n.nextSibling;while(c(n))}goog.dom.Range.createFromNodes(r,a,n,s).select()}},goog.dom.browserrange.W3cRange.prototype.collapse=function(o){this.range_.collapse(o)},goog.provide("goog.dom.browserrange.WebKitRange"),goog.dom.browserrange.WebKitRange=function(o){goog.dom.browserrange.W3cRange.call(this,o)},goog.inherits(goog.dom.browserrange.WebKitRange,goog.dom.browserrange.W3cRange),goog.dom.browserrange.WebKitRange.createFromNodeContents=function(o){return new goog.dom.browserrange.WebKitRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(o))},goog.dom.browserrange.WebKitRange.createFromNodes=function(o,e,t,g){return new goog.dom.browserrange.WebKitRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(o,e,t,g))},goog.dom.browserrange.WebKitRange.prototype.compareBrowserRangeEndpoints=function(o,e,t){return goog.userAgent.isVersion("528")?goog.dom.browserrange.WebKitRange.superClass_.compareBrowserRangeEndpoints.call(this,o,e,t):this.range_.compareBoundaryPoints(t==goog.dom.RangeEndpoint.START?e==goog.dom.RangeEndpoint.START?goog.global.Range.START_TO_START:goog.global.Range.END_TO_START:e==goog.dom.RangeEndpoint.START?goog.global.Range.START_TO_END:goog.global.Range.END_TO_END,o)},goog.dom.browserrange.WebKitRange.prototype.selectInternal=function(o,e){o.removeAllRanges(),e?o.setBaseAndExtent(this.getEndNode(),this.getEndOffset(),this.getStartNode(),this.getStartOffset()):o.setBaseAndExtent(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset())},goog.provide("goog.dom.NodeIterator"),goog.dom.NodeIterator=function(o,e,t,g){goog.dom.TagIterator.call(this,o,e,t,_NULL,g)},goog.inherits(goog.dom.NodeIterator,goog.dom.TagIterator),goog.dom.NodeIterator.prototype.next=function(){do goog.dom.NodeIterator.superClass_.next.call(this);while(this.isEndTag());return this.node},goog.provide("goog.dom.browserrange.IeRange"),goog.dom.browserrange.IeRange=function(o,e){this.range_=o,this.doc_=e},goog.inherits(goog.dom.browserrange.IeRange,goog.dom.browserrange.AbstractRange),goog.dom.browserrange.IeRange.getBrowserRangeForNode_=function(o){var e=goog.dom.getOwnerDocument(o).body.createTextRange();if(o.nodeType==goog.dom.NodeType.ELEMENT)e.moveToElementText(o),goog.dom.browserrange.canContainRangeEndpoint(o)&&!o.childNodes.length&&e.collapse(_FALSE);else{for(var t=0,g=o;g=g.previousSibling;){var r=g.nodeType;if(r==goog.dom.NodeType.TEXT)t+=g.length;else if(r==goog.dom.NodeType.ELEMENT){e.moveToElementText(g);break}}g||e.moveToElementText(o.parentNode),e.collapse(!g),t&&e.move("character",t),e.moveEnd("character",o.length)}return e},goog.dom.browserrange.IeRange.getBrowserRangeForNodes_=function(o,e,t,g){var r,n=_FALSE;o.nodeType==goog.dom.NodeType.ELEMENT&&(r=o.childNodes[e],n=!r,o=r||o.lastChild||o,e=0);var a=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(o);if(e&&a.move("character",e),o==t&&e==g)return a.collapse(_TRUE),a;n&&a.collapse(_FALSE),n=_FALSE,t.nodeType==goog.dom.NodeType.ELEMENT&&(r=t.childNodes[g],t=r||t.lastChild||t,g=0,n=!r);var s=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(t);return s.collapse(!n),g&&s.moveEnd("character",g),a.setEndPoint("EndToEnd",s),a},goog.dom.browserrange.IeRange.createFromNodeContents=function(o){var e=new goog.dom.browserrange.IeRange(goog.dom.browserrange.IeRange.getBrowserRangeForNode_(o),goog.dom.getOwnerDocument(o));if(goog.dom.browserrange.canContainRangeEndpoint(o)){for(var t,g=o;(t=g.firstChild)&&goog.dom.browserrange.canContainRangeEndpoint(t);)g=t;for(e.startNode_=g,e.startOffset_=0,g=o;(t=g.lastChild)&&goog.dom.browserrange.canContainRangeEndpoint(t);)g=t;e.endNode_=g,e.endOffset_=g.nodeType==goog.dom.NodeType.ELEMENT?g.childNodes.length:g.length,e.parentNode_=o}else e.startNode_=e.endNode_=e.parentNode_=o.parentNode,e.startOffset_=goog.array.indexOf(e.parentNode_.childNodes,o),e.endOffset_=e.startOffset_+1;return e},goog.dom.browserrange.IeRange.createFromNodes=function(o,e,t,g){var r=new goog.dom.browserrange.IeRange(goog.dom.browserrange.IeRange.getBrowserRangeForNodes_(o,e,t,g),goog.dom.getOwnerDocument(o));return r.startNode_=o,r.startOffset_=e,r.endNode_=t,r.endOffset_=g,r},goog.dom.browserrange.IeRange.prototype.parentNode_=_NULL,goog.dom.browserrange.IeRange.prototype.startNode_=_NULL,goog.dom.browserrange.IeRange.prototype.endNode_=_NULL,goog.dom.browserrange.IeRange.prototype.startOffset_=-1,goog.dom.browserrange.IeRange.prototype.endOffset_=-1,goog.dom.browserrange.IeRange.prototype.clone=function(){var o=new goog.dom.browserrange.IeRange(this.range_.duplicate(),this.doc_);return o.parentNode_=this.parentNode_,o.startNode_=this.startNode_,o.endNode_=this.endNode_,o},goog.dom.browserrange.IeRange.prototype.getBrowserRange=function(){return this.range_},goog.dom.browserrange.IeRange.prototype.clearCachedValues_=function(){this.parentNode_=this.startNode_=this.endNode_=_NULL,this.startOffset_=this.endOffset_=-1},goog.dom.browserrange.IeRange.prototype.getContainer=function(){if(!this.parentNode_){var o=this.range_.text,e=this.range_.duplicate(),t=o.replace(/ +$/,""),g=o.length-t.length;g&&e.moveEnd("character",-g);var r=e.parentElement(),n=e.htmlText,a=goog.string.stripNewlines(n).length;if(this.isCollapsed()&&a>0)return this.parentNode_=r;for(;a>goog.string.stripNewlines(r.outerHTML).length;)r=r.parentNode;for(;1==r.childNodes.length&&r.firstChild&&r.innerText==goog.dom.browserrange.IeRange.getNodeText_(r.firstChild)&&goog.dom.browserrange.canContainRangeEndpoint(r.firstChild);)r=r.firstChild;0==o.length&&(r=this.findDeepestContainer_(r)),this.parentNode_=r}return this.parentNode_},goog.dom.browserrange.IeRange.prototype.findDeepestContainer_=function(o){for(var e=o.childNodes,t=0,g=e.length;t<g;t++){var r=e[t];if(goog.dom.browserrange.canContainRangeEndpoint(r)){var n=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(r),a=goog.dom.RangeEndpoint.START,s=goog.dom.RangeEndpoint.END,i=n.htmlText!=r.outerHTML,d=this.isCollapsed()&&i,c=d?this.compareBrowserRangeEndpoints(n,a,a)>=0&&this.compareBrowserRangeEndpoints(n,a,s)<=0:this.range_.inRange(n);if(c)return this.findDeepestContainer_(r)}}return o},goog.dom.browserrange.IeRange.prototype.getStartNode=function(){return this.startNode_||(this.startNode_=this.getEndpointNode_(goog.dom.RangeEndpoint.START),this.isCollapsed()&&(this.endNode_=this.startNode_)),this.startNode_},goog.dom.browserrange.IeRange.prototype.getStartOffset=function(){return this.startOffset_<0&&(this.startOffset_=this.getOffset_(goog.dom.RangeEndpoint.START),this.isCollapsed()&&(this.endOffset_=this.startOffset_)),this.startOffset_},goog.dom.browserrange.IeRange.prototype.getEndNode=function(){return this.isCollapsed()?this.getStartNode():(this.endNode_||(this.endNode_=this.getEndpointNode_(goog.dom.RangeEndpoint.END)),this.endNode_)},goog.dom.browserrange.IeRange.prototype.getEndOffset=function(){return this.isCollapsed()?this.getStartOffset():(this.endOffset_<0&&(this.endOffset_=this.getOffset_(goog.dom.RangeEndpoint.END),this.isCollapsed()&&(this.startOffset_=this.endOffset_)),this.endOffset_)},goog.dom.browserrange.IeRange.prototype.compareBrowserRangeEndpoints=function(o,e,t){return this.range_.compareEndPoints((e==goog.dom.RangeEndpoint.START?"Start":"End")+"To"+(t==goog.dom.RangeEndpoint.START?"Start":"End"),o)},goog.dom.browserrange.IeRange.prototype.getEndpointNode_=function(o,e){var t=e||this.getContainer();if(!t||!t.firstChild)return t;for(var g=goog.dom.RangeEndpoint.START,r=goog.dom.RangeEndpoint.END,n=o==g,a=0,s=t.childNodes.length;a<s;a++){var i,d=n?a:s-a-1,c=t.childNodes[d];try{i=goog.dom.browserrange.createRangeFromNodeContents(c)}catch(o){continue}var p=i.getBrowserRange();if(this.isCollapsed()){if(goog.dom.browserrange.canContainRangeEndpoint(c)){if(i.containsRange(this))return this.getEndpointNode_(o,c)}else if(0==this.compareBrowserRangeEndpoints(p,g,g))return this.startOffset_=this.endOffset_=d,t}else{if(this.containsRange(i)){if(!goog.dom.browserrange.canContainRangeEndpoint(c))return n?this.startOffset_=d:this.endOffset_=d+1,t;for(;1==c.childNodes.length;)c=c.firstChild;return this.getEndpointNode_(o,c)}if(this.compareBrowserRangeEndpoints(p,g,r)<0&&this.compareBrowserRangeEndpoints(p,r,g)>0){for(;1==c.childNodes.length&&c.firstChild;)c=c.firstChild;return this.getEndpointNode_(o,c)}}}return t},goog.dom.browserrange.IeRange.prototype.compareNodeEndpoints_=function(o,e,t){return this.range_.compareEndPoints((e==goog.dom.RangeEndpoint.START?"Start":"End")+"To"+(t==goog.dom.RangeEndpoint.START?"Start":"End"),goog.dom.browserrange.createRangeFromNodeContents(o).getBrowserRange())},goog.dom.browserrange.IeRange.prototype.getOffset_=function(o,e){var t=o==goog.dom.RangeEndpoint.START,g=e||(t?this.getStartNode():this.getEndNode());if(g.nodeType==goog.dom.NodeType.ELEMENT){for(var r=g.childNodes,n=r.length,a=t?0:n-1,s=t?1:-1,i=a;i>=0&&i<n;i+=s){var d=r[i];if(!goog.dom.browserrange.canContainRangeEndpoint(d)){var c=this.compareNodeEndpoints_(d,o,o);if(0==c)return t?i:i+1}}return i==-1?0:i}var p=this.range_.duplicate(),u=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(g);p.setEndPoint(t?"EndToEnd":"StartToStart",u);var m=p.text.length;return t?g.length-m:m},goog.dom.browserrange.IeRange.getNodeText_=function(o){return o.nodeType==goog.dom.NodeType.TEXT?o.nodeValue:o.innerText},goog.dom.browserrange.IeRange.prototype.isRangeInDocument=function(){var o=this.doc_.body.createTextRange();return o.moveToElementText(this.doc_.body),this.containsRange(new goog.dom.browserrange.IeRange(o,this.doc_),_TRUE)},goog.dom.browserrange.IeRange.prototype.isCollapsed=function(){return 0==this.range_.compareEndPoints("StartToEnd",this.range_)},goog.dom.browserrange.IeRange.prototype.getText=function(){return this.range_.text},goog.dom.browserrange.IeRange.prototype.getValidHtml=function(){return this.range_.htmlText},goog.dom.browserrange.IeRange.prototype.select=function(o){this.range_.select()},goog.dom.browserrange.IeRange.prototype.removeContents=function(){if(this.range_.htmlText){var o=this.getStartNode(),e=this.getEndNode(),t=this.range_.text,g=this.range_.duplicate();if(g.moveStart("character",1),g.moveStart("character",-1),g.text!=t){var r=new goog.dom.NodeIterator(o,_FALSE,_TRUE),n=[];return goog.iter.forEach(r,function(o){if(o.nodeType!=goog.dom.NodeType.TEXT&&this.containsNode(o)&&(n.push(o),r.skipTag()),o==e)throw goog.iter.StopIteration}),this.collapse(_TRUE),goog.array.forEach(n,goog.dom.removeNode),void this.clearCachedValues_()}this.range_=g,this.range_.text="",this.clearCachedValues_();var a=this.getStartNode(),s=this.getStartOffset();try{var i=o.nextSibling;o==e&&o.parentNode&&o.nodeType==goog.dom.NodeType.TEXT&&i&&i.nodeType==goog.dom.NodeType.TEXT&&(o.nodeValue+=i.nodeValue,goog.dom.removeNode(i),this.range_=goog.dom.browserrange.IeRange.getBrowserRangeForNode_(a),this.range_.move("character",s),this.clearCachedValues_())}catch(o){}}},goog.dom.browserrange.IeRange.getDomHelper_=function(o){return goog.dom.getDomHelper(o.parentElement())},goog.dom.browserrange.IeRange.pasteElement_=function(o,e,t){t=t||goog.dom.browserrange.IeRange.getDomHelper_(o);var g,r=g=e.id;return g||(g=e.id=goog.string.createUniqueString()),o.pasteHTML(e.outerHTML),e=t.getElement(g),e&&(r||e.removeAttribute("id")),e},goog.dom.browserrange.IeRange.prototype.surroundContents=function(o){return goog.dom.removeNode(o),o.innerHTML=this.range_.htmlText,o=goog.dom.browserrange.IeRange.pasteElement_(this.range_,o),o&&this.range_.moveToElementText(o),this.clearCachedValues_(),o},goog.dom.browserrange.IeRange.insertNode_=function(o,e,t,g){g=g||goog.dom.browserrange.IeRange.getDomHelper_(o);var r;if(e.nodeType!=goog.dom.NodeType.ELEMENT&&(r=_TRUE,e=g.createDom(goog.dom.TagName.DIV,_NULL,e)),o.collapse(t),e=goog.dom.browserrange.IeRange.pasteElement_(o,e,g),r){var n=e.firstChild;g.flattenElement(e),e=n}return e},goog.dom.browserrange.IeRange.prototype.insertNode=function(o,e){var t=goog.dom.browserrange.IeRange.insertNode_(this.range_.duplicate(),o,e);return this.clearCachedValues_(),t},goog.dom.browserrange.IeRange.prototype.surroundWithNodes=function(o,e){var t=this.range_.duplicate(),g=this.range_.duplicate();goog.dom.browserrange.IeRange.insertNode_(t,o,_TRUE),goog.dom.browserrange.IeRange.insertNode_(g,e,_FALSE),this.clearCachedValues_()},goog.dom.browserrange.IeRange.prototype.collapse=function(o){this.range_.collapse(o),o?(this.endNode_=this.startNode_,this.endOffset_=this.startOffset_):(this.startNode_=this.endNode_,this.startOffset_=this.endOffset_)},goog.provide("goog.dom.browserrange.GeckoRange"),goog.dom.browserrange.GeckoRange=function(o){goog.dom.browserrange.W3cRange.call(this,o)},goog.inherits(goog.dom.browserrange.GeckoRange,goog.dom.browserrange.W3cRange),goog.dom.browserrange.GeckoRange.createFromNodeContents=function(o){return new goog.dom.browserrange.GeckoRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(o))},goog.dom.browserrange.GeckoRange.createFromNodes=function(o,e,t,g){return new goog.dom.browserrange.GeckoRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(o,e,t,g))},goog.dom.browserrange.GeckoRange.prototype.selectInternal=function(o,e){var t=e?this.getEndNode():this.getStartNode(),g=e?this.getEndOffset():this.getStartOffset(),r=e?this.getStartNode():this.getEndNode(),n=e?this.getStartOffset():this.getEndOffset();o.collapse(t,g),t==r&&g==n||o.extend(r,n)},goog.provide("goog.dom.browserrange.OperaRange"),goog.dom.browserrange.OperaRange=function(o){goog.dom.browserrange.W3cRange.call(this,o)},goog.inherits(goog.dom.browserrange.OperaRange,goog.dom.browserrange.W3cRange),goog.dom.browserrange.OperaRange.createFromNodeContents=function(o){return new goog.dom.browserrange.OperaRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNode(o))},goog.dom.browserrange.OperaRange.createFromNodes=function(o,e,t,g){return new goog.dom.browserrange.OperaRange(goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(o,e,t,g))},goog.dom.browserrange.OperaRange.prototype.selectInternal=function(o,e){o.collapse(this.getStartNode(),this.getStartOffset()),this.getEndNode()==this.getStartNode()&&this.getEndOffset()==this.getStartOffset()||o.extend(this.getEndNode(),this.getEndOffset()),0==o.rangeCount&&o.addRange(this.range_)},goog.provide("goog.dom.browserrange"),goog.provide("goog.dom.browserrange.Error"),goog.dom.browserrange.Error={NOT_IMPLEMENTED:"Not Implemented"},goog.dom.browserrange.createRange=function(o){return goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)?new goog.dom.browserrange.IeRange(o,goog.dom.getOwnerDocument(o.parentElement())):goog.userAgent.WEBKIT?new goog.dom.browserrange.WebKitRange(o):goog.userAgent.GECKO?new goog.dom.browserrange.GeckoRange(o):goog.userAgent.OPERA?new goog.dom.browserrange.OperaRange(o):new goog.dom.browserrange.W3cRange(o)},goog.dom.browserrange.createRangeFromNodeContents=function(o){return goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)?goog.dom.browserrange.IeRange.createFromNodeContents(o):goog.userAgent.WEBKIT?goog.dom.browserrange.WebKitRange.createFromNodeContents(o):goog.userAgent.GECKO?goog.dom.browserrange.GeckoRange.createFromNodeContents(o):goog.userAgent.OPERA?goog.dom.browserrange.OperaRange.createFromNodeContents(o):goog.dom.browserrange.W3cRange.createFromNodeContents(o)},goog.dom.browserrange.createRangeFromNodes=function(o,e,t,g){return goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)?goog.dom.browserrange.IeRange.createFromNodes(o,e,t,g):goog.userAgent.WEBKIT?goog.dom.browserrange.WebKitRange.createFromNodes(o,e,t,g):goog.userAgent.GECKO?goog.dom.browserrange.GeckoRange.createFromNodes(o,e,t,g):goog.userAgent.OPERA?goog.dom.browserrange.OperaRange.createFromNodes(o,e,t,g):goog.dom.browserrange.W3cRange.createFromNodes(o,e,t,g)},goog.dom.browserrange.canContainRangeEndpoint=function(o){return goog.dom.canHaveChildren(o)||o.nodeType==goog.dom.NodeType.TEXT},goog.provide("goog.dom.TextRange"),goog.dom.TextRange=function(){},goog.inherits(goog.dom.TextRange,goog.dom.AbstractRange),goog.dom.TextRange.createFromBrowserRange=function(o,e){return goog.dom.TextRange.createFromBrowserRangeWrapper_(goog.dom.browserrange.createRange(o),e)},goog.dom.TextRange.createFromBrowserRangeWrapper_=function(o,e){var t=new goog.dom.TextRange;return t.browserRangeWrapper_=o,t.isReversed_=!!e,t},goog.dom.TextRange.createFromNodeContents=function(o,e){return goog.dom.TextRange.createFromBrowserRangeWrapper_(goog.dom.browserrange.createRangeFromNodeContents(o),e)},goog.dom.TextRange.createFromNodes=function(o,e,t,g){var r=new goog.dom.TextRange;if(r.isReversed_=goog.dom.Range.isReversed(o,e,t,g),"BR"==o.tagName){var n=o.parentNode;e=goog.array.indexOf(n.childNodes,o),o=n}if("BR"==t.tagName){var n=t.parentNode;g=goog.array.indexOf(n.childNodes,t),t=n}return r.isReversed_?(r.startNode_=t,r.startOffset_=g,r.endNode_=o,r.endOffset_=e):(r.startNode_=o,r.startOffset_=e,r.endNode_=t,r.endOffset_=g),r},goog.dom.TextRange.prototype.browserRangeWrapper_=_NULL,goog.dom.TextRange.prototype.startNode_=_NULL,goog.dom.TextRange.prototype.startOffset_=_NULL,goog.dom.TextRange.prototype.endNode_=_NULL,goog.dom.TextRange.prototype.endOffset_=_NULL,goog.dom.TextRange.prototype.isReversed_=_FALSE,goog.dom.TextRange.prototype.clone=function(){var o=new goog.dom.TextRange;return o.browserRangeWrapper_=this.browserRangeWrapper_,o.startNode_=this.startNode_,o.startOffset_=this.startOffset_,o.endNode_=this.endNode_,o.endOffset_=this.endOffset_,o.isReversed_=this.isReversed_,o},goog.dom.TextRange.prototype.getType=function(){return goog.dom.RangeType.TEXT},goog.dom.TextRange.prototype.getBrowserRangeObject=function(){return this.getBrowserRangeWrapper_().getBrowserRange()},goog.dom.TextRange.prototype.setBrowserRangeObject=function(o){return goog.dom.AbstractRange.isNativeControlRange(o)?_FALSE:(this.browserRangeWrapper_=goog.dom.browserrange.createRange(o),this.clearCachedValues_(),_TRUE)},goog.dom.TextRange.prototype.clearCachedValues_=function(){this.startNode_=this.startOffset_=this.endNode_=this.endOffset_=_NULL},goog.dom.TextRange.prototype.getTextRangeCount=function(){return 1},goog.dom.TextRange.prototype.getTextRange=function(o){return this},goog.dom.TextRange.prototype.getBrowserRangeWrapper_=function(){return this.browserRangeWrapper_||(this.browserRangeWrapper_=goog.dom.browserrange.createRangeFromNodes(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset()))},goog.dom.TextRange.prototype.getContainer=function(){return this.getBrowserRangeWrapper_().getContainer()},goog.dom.TextRange.prototype.getStartNode=function(){return this.startNode_||(this.startNode_=this.getBrowserRangeWrapper_().getStartNode())},goog.dom.TextRange.prototype.getStartOffset=function(){return this.startOffset_!=_NULL?this.startOffset_:this.startOffset_=this.getBrowserRangeWrapper_().getStartOffset()},goog.dom.TextRange.prototype.getEndNode=function(){return this.endNode_||(this.endNode_=this.getBrowserRangeWrapper_().getEndNode())},goog.dom.TextRange.prototype.getEndOffset=function(){return this.endOffset_!=_NULL?this.endOffset_:this.endOffset_=this.getBrowserRangeWrapper_().getEndOffset()},goog.dom.TextRange.prototype.moveToNodes=function(o,e,t,g,r){this.startNode_=o,this.startOffset_=e,this.endNode_=t,this.endOffset_=g,this.isReversed_=r,this.browserRangeWrapper_=_NULL},goog.dom.TextRange.prototype.isReversed=function(){return this.isReversed_},goog.dom.TextRange.prototype.containsRange=function(o,e){var t=o.getType();if(t==goog.dom.RangeType.TEXT)return this.getBrowserRangeWrapper_().containsRange(o.getBrowserRangeWrapper_(),e);if(t==goog.dom.RangeType.CONTROL){var g=o.getElements(),r=e?goog.array.some:goog.array.every;return r(g,function(o){return this.containsNode(o,e)},this)}return _FALSE},goog.dom.TextRange.isAttachedNode=function(o){if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)){var e=_FALSE;try{e=o.parentNode}catch(o){}return!!e}return goog.dom.contains(o.ownerDocument.body,o)},goog.dom.TextRange.prototype.isRangeInDocument=function(){return(!this.startNode_||goog.dom.TextRange.isAttachedNode(this.startNode_))&&(!this.endNode_||goog.dom.TextRange.isAttachedNode(this.endNode_))&&(!(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9))||this.getBrowserRangeWrapper_().isRangeInDocument())},goog.dom.TextRange.prototype.isCollapsed=function(){return this.getBrowserRangeWrapper_().isCollapsed()};goog.dom.TextRange.prototype.getText=function(){return this.getBrowserRangeWrapper_().getText()};goog.dom.TextRange.prototype.getHtmlFragment=function(){return this.getBrowserRangeWrapper_().getHtmlFragment()},goog.dom.TextRange.prototype.getValidHtml=function(){return this.getBrowserRangeWrapper_().getValidHtml()},goog.dom.TextRange.prototype.getPastableHtml=function(){var o=this.getValidHtml();if(o.match(/^\s*<td\b/i))o="<table><tbody><tr>"+o+"</tr></tbody></table>";else if(o.match(/^\s*<tr\b/i))o="<table><tbody>"+o+"</tbody></table>";else if(o.match(/^\s*<tbody\b/i))o="<table>"+o+"</table>";else if(o.match(/^\s*<li\b/i)){for(var e=this.getContainer(),t=goog.dom.TagName.UL;e;){if(e.tagName==goog.dom.TagName.OL){t=goog.dom.TagName.OL;break}if(e.tagName==goog.dom.TagName.UL)break;e=e.parentNode}o=goog.string.buildString("<",t,">",o,"</",t,">")}return o},goog.dom.TextRange.prototype.__iterator__=function(o){return new goog.dom.TextRangeIterator(this.getStartNode(),this.getStartOffset(),this.getEndNode(),this.getEndOffset())},goog.dom.TextRange.prototype.select=function(){this.getBrowserRangeWrapper_().select(this.isReversed_)},goog.dom.TextRange.prototype.removeContents=function(){this.getBrowserRangeWrapper_().removeContents(),this.clearCachedValues_()},goog.dom.TextRange.prototype.surroundContents=function(o){var e=this.getBrowserRangeWrapper_().surroundContents(o);return this.clearCachedValues_(),e},goog.dom.TextRange.prototype.insertNode=function(o,e){var t=this.getBrowserRangeWrapper_().insertNode(o,e);return this.clearCachedValues_(),t},goog.dom.TextRange.prototype.surroundWithNodes=function(o,e){this.getBrowserRangeWrapper_().surroundWithNodes(o,e),this.clearCachedValues_()},goog.dom.TextRange.prototype.saveUsingDom=function(){return new goog.dom.DomSavedTextRange_(this)},goog.dom.TextRange.prototype.collapse=function(o){var e=this.isReversed()?!o:o;this.browserRangeWrapper_&&this.browserRangeWrapper_.collapse(e),e?(this.endNode_=this.startNode_,this.endOffset_=this.startOffset_):(this.startNode_=this.endNode_,this.startOffset_=this.endOffset_),this.isReversed_=_FALSE},goog.dom.DomSavedTextRange_=function(o){this.anchorNode_=o.getAnchorNode(),this.anchorOffset_=o.getAnchorOffset(),this.focusNode_=o.getFocusNode(),this.focusOffset_=o.getFocusOffset()},goog.inherits(goog.dom.DomSavedTextRange_,goog.dom.SavedRange),goog.dom.DomSavedTextRange_.prototype.restoreInternal=function(){return goog.dom.Range.createFromNodes(this.anchorNode_,this.anchorOffset_,this.focusNode_,this.focusOffset_)},goog.dom.DomSavedTextRange_.prototype.disposeInternal=function(){goog.dom.DomSavedTextRange_.superClass_.disposeInternal.call(this),this.anchorNode_=_NULL,this.focusNode_=_NULL},goog.provide("goog.dom.MultiRange"),goog.provide("goog.dom.MultiRangeIterator"),goog.dom.MultiRange=function(){this.browserRanges_=[],this.ranges_=[],this.sortedRanges_=_NULL,this.container_=_NULL},goog.inherits(goog.dom.MultiRange,goog.dom.AbstractMultiRange),goog.dom.MultiRange.createFromBrowserSelection=function(o){for(var e=new goog.dom.MultiRange,t=0,g=o.rangeCount;t<g;t++)e.browserRanges_.push(o.getRangeAt(t));return e},goog.dom.MultiRange.createFromBrowserRanges=function(o){var e=new goog.dom.MultiRange;return e.browserRanges_=goog.array.clone(o),e},goog.dom.MultiRange.createFromTextRanges=function(o){var e=new goog.dom.MultiRange;return e.ranges_=o,e.browserRanges_=o.map(function(o){return o.getBrowserRangeObject()}),e},goog.dom.MultiRange.prototype.clearCachedValues_=function(){this.ranges_=[],this.sortedRanges_=_NULL,this.container_=_NULL},goog.dom.MultiRange.prototype.clone=function(){return goog.dom.MultiRange.createFromBrowserRanges(this.browserRanges_)},goog.dom.MultiRange.prototype.getType=function(){return goog.dom.RangeType.MULTI},goog.dom.MultiRange.prototype.getBrowserRangeObject=function(){return this.browserRanges_[0]},goog.dom.MultiRange.prototype.setBrowserRangeObject=function(o){return _FALSE},goog.dom.MultiRange.prototype.getTextRangeCount=function(){return this.browserRanges_.length},goog.dom.MultiRange.prototype.getTextRange=function(o){return this.ranges_[o]||(this.ranges_[o]=goog.dom.TextRange.createFromBrowserRange(this.browserRanges_[o])),this.ranges_[o]},goog.dom.MultiRange.prototype.getContainer=function(){if(!this.container_){for(var o=[],e=0,t=this.getTextRangeCount();e<t;e++)o.push(this.getTextRange(e).getContainer());this.container_=goog.dom.findCommonAncestor.apply(_NULL,o)}return this.container_},goog.dom.MultiRange.prototype.getSortedRanges=function(){return this.sortedRanges_||(this.sortedRanges_=this.getTextRanges(),this.sortedRanges_.sort(function(o,e){var t=o.getStartNode(),g=o.getStartOffset(),r=e.getStartNode(),n=e.getStartOffset();return t==r&&g==n?0:goog.dom.Range.isReversed(t,g,r,n)?1:-1})),this.sortedRanges_},goog.dom.MultiRange.prototype.getStartNode=function(){return this.getSortedRanges()[0].getStartNode()},goog.dom.MultiRange.prototype.getStartOffset=function(){return this.getSortedRanges()[0].getStartOffset()},goog.dom.MultiRange.prototype.getEndNode=function(){return this.getSortedRanges().last().getEndNode()},goog.dom.MultiRange.prototype.getEndOffset=function(){return this.getSortedRanges().last().getEndOffset()},goog.dom.MultiRange.prototype.isRangeInDocument=function(){return this.getTextRanges().every(function(o){return o.isRangeInDocument()})},goog.dom.MultiRange.prototype.isCollapsed=function(){return 0==this.browserRanges_.length||1==this.browserRanges_.length&&this.getTextRange(0).isCollapsed()},goog.dom.MultiRange.prototype.getText=function(){return this.getTextRanges().map(function(o){return o.getText()}).join("")},goog.dom.MultiRange.prototype.getHtmlFragment=function(){return this.getValidHtml()},goog.dom.MultiRange.prototype.getValidHtml=function(){return this.getTextRanges().map(function(o){return o.getValidHtml()}).join("")},goog.dom.MultiRange.prototype.getPastableHtml=function(){return this.getValidHtml()},goog.dom.MultiRange.prototype.__iterator__=function(o){return new goog.dom.MultiRangeIterator(this)},goog.dom.MultiRange.prototype.select=function(){var o=goog.dom.AbstractRange.getBrowserSelectionForWindow(this.getWindow());o.removeAllRanges();for(var e=0,t=this.getTextRangeCount();e<t;e++)o.addRange(this.getTextRange(e).getBrowserRangeObject())},goog.dom.MultiRange.prototype.removeContents=function(){this.getTextRanges().each(function(o){o.removeContents()})},goog.dom.MultiRange.prototype.saveUsingDom=function(){return new goog.dom.DomSavedMultiRange_(this)},goog.dom.MultiRange.prototype.collapse=function(o){if(!this.isCollapsed()){var e=o?this.getTextRange(0):this.getTextRange(this.getTextRangeCount()-1);this.clearCachedValues_(),e.collapse(o),this.ranges_=[e],this.sortedRanges_=[e],this.browserRanges_=[e.getBrowserRangeObject()]}},goog.dom.DomSavedMultiRange_=function(o){this.savedRanges_=o.getTextRanges().map(function(o){return o.saveUsingDom()})},goog.inherits(goog.dom.DomSavedMultiRange_,goog.dom.SavedRange),goog.dom.DomSavedMultiRange_.prototype.restoreInternal=function(){var o=this.savedRanges_.map(function(o){return o.restore()});return goog.dom.MultiRange.createFromTextRanges(o)},goog.dom.DomSavedMultiRange_.prototype.disposeInternal=function(){goog.dom.DomSavedMultiRange_.superClass_.disposeInternal.call(this),this.savedRanges_.map(function(o){o.dispose()}),delete this.savedRanges_},goog.dom.MultiRangeIterator=function(o){o&&(this.iterators_=o.getSortedRanges().map(function(o){return goog.iter.toIterator(o)})),goog.dom.RangeIterator.call(this,o?this.getStartNode():_NULL,_FALSE)},goog.inherits(goog.dom.MultiRangeIterator,goog.dom.RangeIterator),goog.dom.MultiRangeIterator.prototype.iterators_=_NULL,goog.dom.MultiRangeIterator.prototype.currentIdx_=0,goog.dom.MultiRangeIterator.prototype.getStartTextOffset=function(){return this.iterators_[this.currentIdx_].getStartTextOffset()},goog.dom.MultiRangeIterator.prototype.getEndTextOffset=function(){return this.iterators_[this.currentIdx_].getEndTextOffset()},goog.dom.MultiRangeIterator.prototype.getStartNode=function(){return this.iterators_[0].getStartNode()},goog.dom.MultiRangeIterator.prototype.getEndNode=function(){return this.iterators_.last().getEndNode()},goog.dom.MultiRangeIterator.prototype.isLast=function(){return this.iterators_[this.currentIdx_].isLast()},goog.dom.MultiRangeIterator.prototype.next=function(){try{var o=this.iterators_[this.currentIdx_],e=o.next();return this.setPosition(o.node,o.tagType,o.depth),e}catch(o){if(o!==goog.iter.StopIteration||this.iterators_.length-1==this.currentIdx_)throw o;return this.currentIdx_++,this.next()}},goog.dom.MultiRangeIterator.prototype.copyFrom=function(o){this.iterators_=goog.array.clone(o.iterators_),goog.dom.MultiRangeIterator.superClass_.copyFrom.call(this,o)},goog.dom.MultiRangeIterator.prototype.clone=function(){var o=new goog.dom.MultiRangeIterator(_NULL);return o.copyFrom(this),o},goog.provide("goog.dom.ControlRange"),goog.provide("goog.dom.ControlRangeIterator"),goog.dom.ControlRange=function(){},goog.inherits(goog.dom.ControlRange,goog.dom.AbstractMultiRange),goog.dom.ControlRange.createFromBrowserRange=function(o){var e=new goog.dom.ControlRange;return e.range_=o,e},goog.dom.ControlRange.createFromElements=function(o){for(var e=goog.dom.getOwnerDocument(arguments[0]).body.createControlRange(),t=0,g=arguments.length;t<g;t++)e.addElement(arguments[t]);return goog.dom.ControlRange.createFromBrowserRange(e)},goog.dom.ControlRange.prototype.range_=_NULL,goog.dom.ControlRange.prototype.elements_=_NULL,goog.dom.ControlRange.prototype.sortedElements_=_NULL,goog.dom.ControlRange.prototype.clearCachedValues_=function(){this.elements_=_NULL,this.sortedElements_=_NULL},goog.dom.ControlRange.prototype.clone=function(){return goog.dom.ControlRange.createFromElements.apply(this,this.getElements())},goog.dom.ControlRange.prototype.getType=function(){return goog.dom.RangeType.CONTROL},goog.dom.ControlRange.prototype.getBrowserRangeObject=function(){return this.range_||_DOC.body.createControlRange()},goog.dom.ControlRange.prototype.setBrowserRangeObject=function(o){return goog.dom.AbstractRange.isNativeControlRange(o)?(this.range_=o,_TRUE):_FALSE},goog.dom.ControlRange.prototype.getTextRangeCount=function(){return this.range_?this.range_.length:0},goog.dom.ControlRange.prototype.getTextRange=function(o){return goog.dom.TextRange.createFromNodeContents(this.range_.item(o))},goog.dom.ControlRange.prototype.getContainer=function(){return goog.dom.findCommonAncestor.apply(_NULL,this.getElements())},goog.dom.ControlRange.prototype.getStartNode=function(){return this.getSortedElements()[0]},goog.dom.ControlRange.prototype.getStartOffset=function(){return 0},goog.dom.ControlRange.prototype.getEndNode=function(){var o=this.getSortedElements(),e=o.last();return o.find(function(o){return goog.dom.contains(o,e)})},goog.dom.ControlRange.prototype.getEndOffset=function(){return this.getEndNode().childNodes.length},goog.dom.ControlRange.prototype.getElements=function(){if(!this.elements_&&(this.elements_=[],this.range_))for(var o=0;o<this.range_.length;o++)this.elements_.push(this.range_.item(o));return this.elements_},goog.dom.ControlRange.prototype.getSortedElements=function(){return this.sortedElements_||(this.sortedElements_=this.getElements().concat(),this.sortedElements_.sort(function(o,e){return o.sourceIndex-e.sourceIndex})),this.sortedElements_},goog.dom.ControlRange.prototype.isRangeInDocument=function(){var o=_FALSE;try{o=this.getElements().every(function(o){return goog.userAgent.IE?o.parentNode:goog.dom.contains(o.ownerDocument.body,o)})}catch(o){}return o},goog.dom.ControlRange.prototype.isCollapsed=function(){
return!this.range_||!this.range_.length},goog.dom.ControlRange.prototype.getText=function(){return""},goog.dom.ControlRange.prototype.getHtmlFragment=function(){return this.getSortedElements().map(goog.dom.getOuterHtml).join("")},goog.dom.ControlRange.prototype.getValidHtml=function(){return this.getHtmlFragment()},goog.dom.ControlRange.prototype.getPastableHtml=goog.dom.ControlRange.prototype.getValidHtml,goog.dom.ControlRange.prototype.__iterator__=function(o){return new goog.dom.ControlRangeIterator(this)},goog.dom.ControlRange.prototype.select=function(){this.range_&&this.range_.select()},goog.dom.ControlRange.prototype.removeContents=function(){if(this.range_){for(var o=[],e=0,t=this.range_.length;e<t;e++)o.push(this.range_.item(e));o.each(goog.dom.removeNode),this.collapse(_FALSE)}},goog.dom.ControlRange.prototype.saveUsingDom=function(){return new goog.dom.DomSavedControlRange_(this)},goog.dom.ControlRange.prototype.collapse=function(o){this.range_=_NULL,this.clearCachedValues_()},goog.dom.DomSavedControlRange_=function(o){this.elements_=o.getElements()},goog.inherits(goog.dom.DomSavedControlRange_,goog.dom.SavedRange),goog.dom.DomSavedControlRange_.prototype.restoreInternal=function(){for(var o=this.elements_.length?goog.dom.getOwnerDocument(this.elements_[0]):document,e=o.body.createControlRange(),t=0,g=this.elements_.length;t<g;t++)e.addElement(this.elements_[t]);return goog.dom.ControlRange.createFromBrowserRange(e)},goog.dom.DomSavedControlRange_.prototype.disposeInternal=function(){goog.dom.DomSavedControlRange_.superClass_.disposeInternal.call(this),delete this.elements_},goog.dom.ControlRangeIterator=function(o){o&&(this.elements_=o.getSortedElements(),this.startNode_=this.elements_.shift(),this.endNode_=this.elements_.last()||this.startNode_),goog.dom.RangeIterator.call(this,this.startNode_,_FALSE)},goog.inherits(goog.dom.ControlRangeIterator,goog.dom.RangeIterator),goog.dom.ControlRangeIterator.prototype.startNode_=_NULL,goog.dom.ControlRangeIterator.prototype.endNode_=_NULL,goog.dom.ControlRangeIterator.prototype.elements_=_NULL,goog.dom.ControlRangeIterator.prototype.getStartTextOffset=function(){return 0},goog.dom.ControlRangeIterator.prototype.getEndTextOffset=function(){return 0},goog.dom.ControlRangeIterator.prototype.getStartNode=function(){return this.startNode_},goog.dom.ControlRangeIterator.prototype.getEndNode=function(){return this.endNode_},goog.dom.ControlRangeIterator.prototype.isLast=function(){return!this.depth&&!this.elements_.length},goog.dom.ControlRangeIterator.prototype.next=function(){if(this.isLast())throw goog.iter.StopIteration;if(!this.depth){var o=this.elements_.shift();return this.setPosition(o,goog.dom.TagWalkType.START_TAG,goog.dom.TagWalkType.START_TAG),o}return goog.dom.ControlRangeIterator.superClass_.next.call(this)},goog.dom.ControlRangeIterator.prototype.copyFrom=function(o){this.elements_=o.elements_,this.startNode_=o.startNode_,this.endNode_=o.endNode_,goog.dom.ControlRangeIterator.superClass_.copyFrom.call(this,o)},goog.dom.ControlRangeIterator.prototype.clone=function(){var o=new goog.dom.ControlRangeIterator(_NULL);return o.copyFrom(this),o},goog.provide("goog.dom.Range"),goog.dom.Range.createFromWindow=function(o){var e=goog.dom.AbstractRange.getBrowserSelectionForWindow(o||window);return e&&goog.dom.Range.createFromBrowserSelection(e)},goog.dom.Range.createFromBrowserSelection=function(o){var e,t=_FALSE;if(o.createRange)try{e=o.createRange()}catch(o){return _NULL}else{if(!o.rangeCount)return _NULL;if(o.rangeCount>1)return goog.dom.MultiRange.createFromBrowserSelection(o);e=o.getRangeAt(0),t=goog.dom.Range.isReversed(o.anchorNode,o.anchorOffset,o.focusNode,o.focusOffset)}return goog.dom.Range.createFromBrowserRange(e,t)},goog.dom.Range.createFromBrowserRange=function(o,e){return goog.dom.AbstractRange.isNativeControlRange(o)?goog.dom.ControlRange.createFromBrowserRange(o):goog.dom.TextRange.createFromBrowserRange(o,e)},goog.dom.Range.createFromNodeContents=function(o,e){return goog.dom.TextRange.createFromNodeContents(o,e)},goog.dom.Range.createCaret=function(o,e){return goog.dom.TextRange.createFromNodes(o,e,o,e)},goog.dom.Range.createFromNodes=function(o,e,t,g){return goog.dom.TextRange.createFromNodes(o,e,t,g)},goog.dom.Range.clearSelection=function(o){var e=goog.dom.AbstractRange.getBrowserSelectionForWindow(o||window);if(e)if(e.empty)try{e.empty()}catch(o){}else e.removeAllRanges()},goog.dom.Range.isReversed=function(o,e,t,g){if(o==t)return g<e;var r;if(o.nodeType==goog.dom.NodeType.ELEMENT&&e)if(r=o.childNodes[e])o=r,e=0;else if(goog.dom.contains(o,t))return _TRUE;if(t.nodeType==goog.dom.NodeType.ELEMENT&&g)if(r=t.childNodes[g])t=r,g=0;else if(goog.dom.contains(t,o))return _FALSE;return(goog.dom.compareNodeOrder(o,t)||e-g)>0},goog.provide("export_dep");