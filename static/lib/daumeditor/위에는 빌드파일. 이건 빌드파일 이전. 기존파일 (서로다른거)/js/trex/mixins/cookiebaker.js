Trex.I.CookieBaker=Trex.Faculty.create({cookieName:_NULL,cookieValue:_NULL,initCookie:function(e,i){this.cookieName=e,this.cookieValue=function(){for(var i=_DOC.cookie.split(";"),t=0;t<i.length;t++){var o=i[t].replace(/^\s+/,"");if(0==o.indexOf(e+"="))return o.substring(e.length+1)}return _NULL}()||"",this.maxCnt=i||3},writeCookie:function(e,i){var t,o=this.cookieName;if(i){var n=new Date;n.setTime((new Date).getTime()+24*i*60*60*1e3),t="; expires="+n.toGMTString()}else t="";e===_NULL&&(e=""),_DOC.cookie=o+"="+e+t+"; path=/",this.cookieValue=e},readCookie:function(){return this.cookieValue===_NULL+""?_NULL:this.cookieValue},eraseCookie:function(){var e=this.cookieName;this.writeCookie(e,"",-1)},extractOptions:function(e,i){var t=e.toMap("data"),o=[];return i.split("|").compact().each(function(e){t[e]&&o.push(t[e])}.bind(this)),o},mergeValues:function(e,i){var t=e.split("|").compact();return t.contains(i)?e:(t.length>=this.maxCnt&&t.pop(),t.unshift(i),t.join("|"))}});