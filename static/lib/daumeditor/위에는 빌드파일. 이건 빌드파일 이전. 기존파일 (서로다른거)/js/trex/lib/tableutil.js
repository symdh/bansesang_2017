Trex.TableUtil={isDaumTable:function(t){return $tx.hasClassName(t,"txc-table")},cloneNodeForEmptyTd:function(t){var e;return e=t.cloneNode(_FALSE),Trex.TableUtil.emptyTd(e),e},emptyTd:function(t){t.innerHTML="<p><br></p>"},splitWidthByColSpan:function(t){var e;1<t.colSpan&&t.style.width&&(e=parseInt(t.style.width,10),$tom.setStyles(t,{width:Math.floor(e/t.colSpan)+"px"},_TRUE))},splitHeightByRowSpan:function(t){var e;1<t.rowSpan&&t.style.height&&(e=parseInt(t.style.height,10),$tom.setStyles(t,{height:Math.floor(e/t.rowSpan)+"px"},_TRUE))},collapseCaret:function(t,e){var i;try{i=t.getProcessor().createGoogRangeFromNodes(e,0,e,0),i.select()}catch(t){}},getClosestByTagNames:function(t,e){var i;return e&&"string"==typeof e.tagName&&(i=e.tagName.toLowerCase(),"body"!==i)?t.contains(i)?e:arguments.callee(t,e.parentNode):_NULL},getTableIndexerFromTd:function(t){var e;return e=Trex.TableUtil.getClosestByTagNames(["table"],t),new Trex.TableUtil.Indexer(e)}},Trex.TableUtil.Boundary=Trex.Class.create({initialize:function(t){this.top=-1,this.left=-1,this.bottom=-1,this.right=-1,t&&this.set(t)},getTop:function(){return this.top},getLeft:function(){return this.left},getBottom:function(){return this.bottom},getRight:function(){return this.right},setTop:function(t){this.top=t},setLeft:function(t){this.left=t},setBottom:function(t){this.bottom=t},setRight:function(t){this.right=t},set:function(t){"top"in t&&this.setTop(t.top),"left"in t&&this.setLeft(t.left),"bottom"in t&&this.setBottom(t.bottom),"right"in t&&this.setRight(t.right)},isValid:function(){return this.top===-1?_FALSE:this.left===-1?_FALSE:this.bottom===-1?_FALSE:this.right===-1?_FALSE:_TRUE},addBoundary:function(t,e){var i,n;return i=this.addStartBoundary(t,e),n=this.addEndBoundary(t,e),i||n},merge:function(t){var e,i;return e=this.addStartBoundary(t.top,t.left),i=this.addEndBoundary(t.bottom,t.right),e||i},addStartBoundary:function(t,e){var i;return i=_FALSE,(this.top===-1||t<this.top)&&(this.top=t,i=_TRUE),(this.left===-1||e<this.left)&&(this.left=e,i=_TRUE),i},addEndBoundary:function(t,e){var i;return i=_FALSE,(this.bottom===-1||this.bottom<t)&&(this.bottom=t,i=_TRUE),(this.right===-1||this.right<e)&&(this.right=e,i=_TRUE),i}}),Trex.TableUtil.Indexer=Trex.Class.create({initialize:function(t){this.indexData=_NULL,this.table=_NULL,this.resetIndex(),this.setTable(t),this.makeIndex()},getRowSize:function(){return this.indexData.length},getColSize:function(){return 0<this.indexData.length?this.indexData[0].length:0},getTd:function(t,e){return this.indexData[t]&&this.indexData[t][e]?this.indexData[t][e]:_NULL},getTdArr:function(t){var e,i,n,r;for(e=[],i=t.top;i<=t.bottom;){for(n=this.indexData[i],r=t.left;r<=t.right;)e.contains(n[r])===_FALSE&&e.push(n[r]),r+=1;i+=1}return e},getTdArrHasTop:function(t){var e,i,n,r,o;for(e=[],r=this.getColSize(),o=0;o<r;o+=1)i=this.getTd(t,o),n=this.getTd(t-1,o),this.uniquePushWhenDifferent(e,i,n);return e},getTdArrHasBottom:function(t){var e,i,n,r,o;for(e=[],r=this.getColSize(),o=0;o<r;o+=1)i=this.getTd(t,o),n=this.getTd(t+1,o),this.uniquePushWhenDifferent(e,i,n);return e},getTdArrHasLeft:function(t){var e,i,n,r,o;for(e=[],r=this.getRowSize(),o=0;o<r;o+=1)i=this.getTd(o,t),n=this.getTd(o,t-1),this.uniquePushWhenDifferent(e,i,n);return e},getTdArrHasRight:function(t){var e,i,n,r,o;for(e=[],r=this.getRowSize(),o=0;o<r;o+=1)i=this.getTd(o,t),n=this.getTd(o,t+1),this.uniquePushWhenDifferent(e,i,n);return e},getBoundary:function(t){var e,i,n,r,o,s,a;for(e=new Trex.TableUtil.Boundary,i=this.indexData,n=i.length,r=0;r<n;r+=1)if(o=i[r])for(s=o.length,a=0;a<s;a+=1)o[a]===t&&e.addBoundary(r,a);return e},reload:function(){this.resetIndex(),this.makeIndex()},uniquePushWhenDifferent:function(t,e,i){e!==i&&t.contains(e)===_FALSE&&t.push(e)},resetIndex:function(){this.indexData=[]},setTable:function(t){this.table=t},makeIndex:function(){var t,e,i,n,r,o,s,a;for(t=this.table.rows,e=t.length,i=0;i<e;i+=1)for(n=t[i],r=n.cells,o=r.length,s=0;s<o;s+=1)a=r[s],this.addCellIndex(i,a)},addCellIndex:function(t,e){var i,n,r,o,s,a;for(i=this.getNextCellIndex(this.indexData[t]),r=e.rowSpan,n=0;n<r;n+=1)for(o=t+n,this.indexData[o]||(this.indexData[o]=[]),a=e.colSpan,s=0;s<a;s+=1)this.indexData[o][i+s]=e},getNextCellIndex:function(t){var e,i;if(!t)return 0;for(i=t.length,e=0;e<i&&t[e];e+=1);return e}});