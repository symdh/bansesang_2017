Trex.install("editor.getForm",function(e,t,n,o,r){var i=new Trex.FormProxy(e,n,r);e.getForm=function(){return i}}),Trex.FormProxy=Trex.Class.create({initialize:function(e,t,n){this.editor=e,this.sidebar=t,this.config=n;var o=this.elForm=_DOC.forms[n.form]||_DOC.getElementById(n.form);if(!o)throw new Error("[Exception]Trex.Form : not exist element - "+n.form);o.onsubmit=function(){return _FALSE}},submit:function(){this.elForm.submit()},createField:function(e){this.elForm.appendChild(e)},getElements:function(){return this.elForm.elements},getElementByName:function(e){return this.elForm[e]},getFormField:function(){for(var e,t={},n=this.getElements(),o=0;o<n.length;o++)e=n[o],["select","input","textarea"].contains(e.tagName.toLowerCase())&&(e.name||e.id)&&("select"==e.tagName.toLowerCase()?e.selectedIndex>0&&(t[e.name]=e.options[e.selectedIndex].value):("radio"!=e.type||e.checked)&&("checkbox"!=e.type||e.checked)&&(t[e.name||e.id]=e.value));return t},setFormField:function(e){if(e)for(var t,n,o=this.getElements(),r=0;r<o.length;r++)if(t=o[r],["select","input","textarea"].contains(t.tagName.toLowerCase())&&t.name!==_NULL&&0!==t.name.length&&e[t.name])if(n=e[t.name],"select"==t.tagName.toLowerCase()){for(var i=0;i<t.options.length;i++)if(t.options[i].value==n){t.options[i].selected=_TRUE;break}}else"radio"==t.type||"checkbox"==t.type?t.value==n&&(t.checked=_TRUE):t.value=n}});