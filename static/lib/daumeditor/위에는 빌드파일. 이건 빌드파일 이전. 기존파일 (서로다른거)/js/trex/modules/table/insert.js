Trex.Table.Insert=Trex.Class.create({COL_DIRECTION:{LEFT:"left",RIGHT:"right"},initialize:function(t){var e;e=t.getCanvas(),this.wysiwygPanel=e.getPanel(Trex.Canvas.__WYSIWYG_MODE)},insertRowAbove:function(t){var e,o;t.reloadIndexer(),e=t.getSelected(),e.isValid()&&(o=t.getIndexer(),this.insertRowAboveByBoundary(e,o),t.reset())},insertRowAboveByBoundary:function(t,e){var o,r,i,n,a;o=e.table,r=t.bottom-t.top+1,i=t.top,n=e.getTdArr(new Trex.TableUtil.Boundary({top:t.top,right:e.getColSize()-1,bottom:t.top,left:0})),a=e.getTdArrHasTop(t.top),this.addRow(o,r,i,n,a)},addRow:function(t,e,o,r,i){var n,a,l;for(n=function(t){var e;i.contains(t)?(e=Trex.TableUtil.cloneNodeForEmptyTd(t),Trex.TableUtil.splitHeightByRowSpan(e),e.rowSpan=1,l.appendChild(e)):t.rowSpan+=1},a=0;a<e;a+=1)l=t.insertRow(o),r.each(n)},insertRowBelow:function(t){var e,o;t.reloadIndexer(),e=t.getSelected(),e.isValid()&&(o=t.getIndexer(),this.insertRowBelowByBoundary(e,o),t.reset())},insertRowBelowByBoundary:function(t,e){var o,r,i,n,a;o=e.table,r=t.bottom-t.top+1,i=t.bottom+1,n=e.getTdArr(new Trex.TableUtil.Boundary({top:t.bottom,right:e.getColSize()-1,bottom:t.bottom,left:0})),a=e.getTdArrHasBottom(t.bottom),this.addRow(o,r,i,n,a)},insertColLeft:function(t){var e,o;t.reloadIndexer(),e=t.getSelected(),e.isValid()&&(o=t.getIndexer(),this.insertColLeftByBoundary(e,o),t.reset())},insertColLeftByBoundary:function(t,e){var o,r,i;o=t.right-t.left+1,r=e.getTdArr(new Trex.TableUtil.Boundary({top:0,right:t.left,bottom:e.getRowSize()-1,left:t.left})),i=e.getTdArrHasLeft(t.left),this.addCol(o,r,i,this.COL_DIRECTION.LEFT)},addCol:function(t,e,o,r){var i,n,a;for(i=this,n=function(t){var e;o.contains(t)?(e=Trex.TableUtil.cloneNodeForEmptyTd(t),Trex.TableUtil.splitWidthByColSpan(e),e.colSpan=1,r===i.COL_DIRECTION.LEFT?$tom.insertAt(e,t):$tom.insertNext(e,t)):t.colSpan+=1},a=0;a<t;a+=1)e.each(n)},insertColRight:function(t){var e,o;t.reloadIndexer(),e=t.getSelected(),e.isValid()&&(o=t.getIndexer(),this.insertColRightByBoundary(e,o),t.reset())},insertColRightByBoundary:function(t,e){var o,r,i;o=t.right-t.left+1,r=e.getTdArr(new Trex.TableUtil.Boundary({top:0,right:t.right,bottom:e.getRowSize()-1,left:t.right})),i=e.getTdArrHasRight(t.right),this.addCol(o,r,i,this.COL_DIRECTION.RIGHT)}});