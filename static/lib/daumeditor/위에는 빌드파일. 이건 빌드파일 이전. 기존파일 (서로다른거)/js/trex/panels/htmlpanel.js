Trex.Canvas.HtmlPanel=Trex.Class.create({$extend:Trex.Canvas.TextareaPanel,$const:{__MODE:Trex.Canvas.__HTML_MODE},initialize:function(t,e){this.$super.initialize(t,e),this.bindEvents(),"8"==$tx.msie_ver&&this.el.setAttribute("style","width: 500px; min-width: 100%; max-width: 100%;"),e.styles.notApplyBgColorOnSourceMode||(e.styles.backgroundColor&&$tx.setStyle(this.el,{backgroundColor:e.styles.backgroundColor}),e.styles.color&&$tx.setStyle(this.el,{color:e.styles.color}))},bindEvents:function(){var t={keydown:function(t){this.canvas.fireJobs(Trex.Ev.__CANVAS_SOURCE_PANEL_KEYDOWN,t)},keyup:function(){var t=this.canvas.getProcessor();t&&t.savePosition&&t.savePosition()},mousedown:function(t){this.canvas.fireJobs(Trex.Ev.__CANVAS_SOURCE_PANEL_MOUSEDOWN,t)},mouseup:function(){var t=this.canvas.getProcessor();t&&t.savePosition&&t.savePosition()},click:function(t){this.canvas.fireJobs(Trex.Ev.__CANVAS_SOURCE_PANEL_CLICK,t)}};for(var e in t)$tx.observe(this.el,e,t[e].bind(this),_TRUE)},getPanel:function(t){var e=t.initializedId?t.initializedId:"";return $must("tx_canvas_source"+e,"Trex.Canvas.HtmlPanel")},getHolder:function(t){var e=t.initializedId?t.initializedId:"";return $must("tx_canvas_source_holder"+e,"Trex.Canvas.HtmlPanel")},setContent:function(t){var e=new Trex.Validator;e.exists(t)?this.$super.setContent(t):this.$super.setContent("")}});