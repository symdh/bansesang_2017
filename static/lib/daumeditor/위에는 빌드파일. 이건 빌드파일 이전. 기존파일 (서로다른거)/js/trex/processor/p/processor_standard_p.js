Trex.I.Processor.StandardP={putBogusParagraph:function(){var e=this.doc.body,r=$tom.last(e);if(!r||!$tom.kindOf(r,"p")){var o=this.newParagraph("p");$tom.kindOf(r,"br")?$tom.replace(r,o):$tom.append(e,o)}}},Trex.module("put bogus paragraph @when any key event fires",function(e,r,o,t){$tx.msie_nonstd||"p"==t.config.newlinepolicy&&t.reserveJob(Trex.Ev.__CANVAS_PANEL_KEYUP,function(){if(t.isWYSIWYG()){var e=t.getProcessor();e.putBogusParagraph()}},10)}),Trex.module("interrupt enter key action @ wysiwyg panel",function(e,r,o,t){var a=TrexConfig.get("canvas");"p"==a.newlinepolicy&&t.observeKey({ctrlKey:_FALSE,altKey:_FALSE,shiftKey:_FALSE,keyCode:Trex.__KEY.ENTER},function(e){if(t.isWYSIWYG()){var r=t.getProcessor();try{r.getTxSel().collapse(_FALSE),r.controlEnterByParagraph(e)}catch(e){if(e==$propagate)throw e}}})});