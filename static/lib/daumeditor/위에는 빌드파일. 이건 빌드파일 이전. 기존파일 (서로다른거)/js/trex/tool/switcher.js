TrexMessage.addMsg({"@switcher.wysiwyg":"에디터","@switcher.source":"HTML","@switcher.text":"텍스트"}),TrexConfig.addTool("switcher",{wysiwygonly:_FALSE,status:_TRUE,options:[{label:TXMSG("@switcher.wysiwyg"),title:TXMSG("@switcher.wysiwyg"),data:"html"},{label:TXMSG("@switcher.source"),title:TXMSG("@switcher.source"),data:"source"},{label:TXMSG("@switcher.text"),title:TXMSG("@switcher.text"),data:"text"}]}),Trex.Tool.Switcher=Trex.Class.create({$const:{__Identity:"switcher"},$extend:Trex.Tool,oninitialized:function(e){var t=this.canvas,i={};e.options.each(function(e){i[e.data]={title:e.title}});var s="",o=e.options[0],n=function(e){return"text"===e&&"text"!==t.mode?_TRUE:_FALSE},r=function(){var e,i,s;return e=t.getContent(),i=e.toLowerCase().trim(),s=$tom.EMPTY_PARAGRAPH_HTML.toLowerCase().trim(),i&&i!==s&&"&nbsp;"!==i?_TRUE:_FALSE},a=function(i){return e.changeModeConfirmMsg&&n(i)&&r()&&_FALSE===confirm(e.changeModeConfirmMsg)?$stop:void t.changeMode(i)},c=function(e,t){e!=t&&s!=t&&i[t]&&(this.button.setValue(t),this.button.setText(i[t].title),s=t)}.bind(this);t.observeJob(Trex.Ev.__CANVAS_MODE_CHANGE,c),t.observeJob(Trex.Ev.__CANVAS_MODE_INITIALIZE,c),this.weave.bind(this)(new Trex.Button.Select(TrexConfig.merge(this.buttonCfg,{selectedValue:o.data,selectedText:o.label})),new Trex.Menu.Select(this.menuCfg),a)}});