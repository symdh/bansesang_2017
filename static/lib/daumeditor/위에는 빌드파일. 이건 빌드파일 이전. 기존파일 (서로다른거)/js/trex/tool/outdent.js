TrexConfig.addTool("outdent",{sync:_FALSE,status:_FALSE,hotKey:{shiftKey:_TRUE,keyCode:9}}),Trex.Tool.Outdent=Trex.Class.create({$const:{__Identity:"outdent"},$extend:Trex.Tool,oninitialized:function(e){this.weave(new Trex.Button(this.buttonCfg),_NULL,this.handler),this.createHandlers(),$tx.opera==_FALSE&&this.observeBackspace(),this.bindKeyboard(e.hotKey,this.shiftTabKeyHandler.bind(this))},handler:function(){var e=this;this.canvas.execute(function(t){e.onOutdentClicked.handle(t)})},shiftTabKeyHandler:function(){var e=this;this.canvas.execute(function(t){e.onShiftTabPressed.handle(t)})},observeBackspace:function(){var e=this.canvas,t=this;e.observeKey({keyCode:Trex.__KEY.BACKSPACE},function(){e.query(function(e){t.onBackspace.handle(e)})})},createHandlers:function(){var e=Trex.Tool.Indent,t=e.Judge,n=e.Operation,a=e.Handler,o=Trex.ChainHandler,d=o.connect([new o(t.ListItem,n.OutdentListItem),new o(t.BlockNode,n.OutdentBlockNode)]),i=o.connect([new o(t.AlwaysTrue,n.Propagate)]),s=o.connect([new o(t.ListItem,n.OutdentListItem),new o(t.ChildOfFirstTableCell,n.GoToAboveTable),new o(t.ChildOfTableCell,n.GoToPreviousCell),new o(t.BlockNode,n.OutdentBlockNode)]),r=o.connect([new o(t.And(t.HeadOfParagraph,t.OneDepthList),n.Propagate),new o(t.And(t.HeadOfParagraph,t.ListItem),n.OutdentListItem),new o(t.And(t.HeadOfParagraph,t.IndentedBlockNode),n.OutdentBlockNode),new o(t.AlwaysTrue,n.Propagate)]);this.onShiftTabPressed=new a(s,d,d),this.onOutdentClicked=new a(d,d,d),this.onBackspace=new a(r,i,i)}});