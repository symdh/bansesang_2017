TrexConfig.addTool("quote",{sync:_FALSE,status:_TRUE,rows:2,cols:3,options:[{type:"image",data:"tx-quote1",image:"#iconpath/quote/citation01.gif?v=2"},{type:"image",data:"tx-quote2",image:"#iconpath/quote/citation02.gif?v=2"},{type:"image",data:"tx-quote3",image:"#iconpath/quote/citation03.gif?v=2"},{type:"image",data:"tx-quote4",image:"#iconpath/quote/citation04.gif?v=2"},{type:"image",data:"tx-quote5",image:"#iconpath/quote/citation05.gif?v=2"},{type:"cancel",data:"tx-quote6",image:"#iconpath/quote/citation06.gif?v=2"}]},function(t){var e=TrexConfig.getTool("quote",t);e.options.each(function(t){t.image=TrexConfig.getIconPath(t.image,"quote")})}),Trex.Tool.Quote=Trex.Class.create({$const:{__Identity:"quote"},$extend:Trex.Tool,oninitialized:function(t){var e=this,o=this.canvas,i={};t.options.each(function(t){i[t.data]={type:t.type}});var a=function(t){if(i[t]){var e=i[t].type,a="blockquote",n={className:t};o.isWYSIWYG()?o.execute(function(t){var o=t.findNode(a);if(o)"cancel"==e?t.unwrap(o):t.apply(o,n);else if("cancel"!=e){var i=t.blocks(function(){return"%wrapper,%paragraph"});i=i.findAll(function(e){return $tom.kindOf(e,"%innergroup")?(t.wrap($tom.children(e),a,n),_FALSE):_TRUE}),t.wrap(i,a,n)}}):o.execute(function(t){t.insertTag("<blockquote>","</blockquote>")})}};this.weave.bind(this)(new Trex.Button(this.buttonCfg),new Trex.Menu.List(this.menuCfg),a);var n=function(t){e.button.onMouseDown(t)};this.bindKeyboard({ctrlKey:_TRUE,keyCode:81},n)}});